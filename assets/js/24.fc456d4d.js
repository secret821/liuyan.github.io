(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{389:function(e,v,_){"use strict";_.r(v);var t=_(48),a=Object(t.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"数据库5-8"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据库5-8"}},[e._v("#")]),e._v(" 数据库5.8")]),e._v(" "),_("h2",{attrs:{id:"_1-聚合查询"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-聚合查询"}},[e._v("#")]),e._v(" (1)聚合查询")]),e._v(" "),_("p",[e._v("分组查询  group by")]),e._v(" "),_("p",[e._v("max() min() sum() avg() count()")]),e._v(" "),_("p",[e._v("加密函数 md5()")]),e._v(" "),_("p",[e._v("select "),_("strong",[e._v("md5")]),e._v("('123456');")]),e._v(" "),_("p",[e._v("year() 获取日期中的年份")]),e._v(" "),_("p",[e._v('select year("2021-5-8");')]),e._v(" "),_("p",[e._v("练习：查询出1993年出生的员工")]),e._v(" "),_("p",[e._v("select*from emp where "),_("strong",[e._v("year(brithday)")]),e._v("=1993;")]),e._v(" "),_("h2",{attrs:{id:"_2-子查询"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-子查询"}},[e._v("#")]),e._v(" (2)子查询")]),e._v(" "),_("p",[e._v("多个SQL命令的组合，将一个SQL命令的结果作为另一个的条件使用")]),e._v(" "),_("p",[e._v("eg:查询工资最高的员工所有的列")]),e._v(" "),_("p",[e._v("步骤一：查询出工资最高值")]),e._v(" "),_("p",[e._v("select max(salary) from emp;")]),e._v(" "),_("p",[e._v("步骤二：通过最高值查询员工")]),e._v(" "),_("p",[e._v("select*from emp where salary=22000;")]),e._v(" "),_("p",[e._v("综合：")]),e._v(" "),_("p",[e._v("select*from emp where salary=(select max(salary) from emp);")]),e._v(" "),_("p",[e._v("eg:查询和tom同一个部门的员工有哪些")]),e._v(" "),_("p",[e._v('步骤一：select deptId from emp where ename = "tom";')]),e._v(" "),_("p",[e._v("步骤二：通过部门编号查询员工")]),e._v(" "),_("p",[e._v('select*from emp where deplt=20 and ename!="tom";')]),e._v(" "),_("p",[e._v("综合：")]),e._v(" "),_("p",[e._v('select*from emp where deplt = (select depltd from emp where ename = "tom") and ename!="tom";')]),e._v(" "),_("p",[e._v("练习：查询和maria同一年出生的员工")]),e._v(" "),_("p",[e._v("步骤一：查询Maria出生年份")]),e._v(" "),_("p",[e._v('select year(birthday) from emp where ename = "Maria";')]),e._v(" "),_("p",[e._v("步骤二：查询出这一年出生的员工，排除Maria")]),e._v(" "),_("p",[e._v("select*from emp where year(birthday)=1992 and ename!= 'Maria';")]),e._v(" "),_("p",[e._v("综合：")]),e._v(" "),_("p",[e._v("select*from emp where year(birthday)=(select year(birthday) from emp where ename = \"Maria\")and ename!= 'Maria'；")]),e._v(" "),_("h2",{attrs:{id:"_3-多表查询"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-多表查询"}},[e._v("#")]),e._v(" (3）多表查询")]),e._v(" "),_("p",[e._v("查询的数据是发布在多个表中,前提是表之间是有关联的。")]),e._v(" "),_("p",[e._v("eg:查询出所有员工姓名以及部门名称")]),e._v(" "),_("p",[e._v("select "),_("strong",[e._v("emp.ename,dept.dname")]),e._v(" from emp,dept where "),_("strong",[e._v("emp.deptId = dept.did")]),e._v(";")]),e._v(" "),_("h2",{attrs:{id:"内连接-表和表之间"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#内连接-表和表之间"}},[e._v("#")]),e._v(" 内连接（表和表之间）")]),e._v(" "),_("p",[e._v("select ename,dname from emp "),_("strong",[e._v("inner join")]),e._v("  dept on deptId = did;")]),e._v(" "),_("h2",{attrs:{id:"外连接"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#外连接"}},[e._v("#")]),e._v(" 外连接")]),e._v(" "),_("h3",{attrs:{id:"左外连接-以左侧的表为主导-所有左侧表的数据都要显示-先写哪个表-哪个就是左"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#左外连接-以左侧的表为主导-所有左侧表的数据都要显示-先写哪个表-哪个就是左"}},[e._v("#")]),e._v(" 左外连接（以左侧的表为主导，所有左侧表的数据都要显示,先写哪个表，哪个就是左）")]),e._v(" "),_("p",[e._v("select ename,dname from emp "),_("strong",[e._v("left outer join")]),e._v(" dept "),_("strong",[e._v("on")]),e._v(" deptId = did;（outer关键字可以省略）")]),e._v(" "),_("h3",{attrs:{id:"右外连接-以右侧的表为主导-所有右侧表的数据都要显示-后写哪个表-哪个就是右"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#右外连接-以右侧的表为主导-所有右侧表的数据都要显示-后写哪个表-哪个就是右"}},[e._v("#")]),e._v(" 右外连接  (以右侧的表为主导，所有右侧表的数据都要显示,后写哪个表，哪个就是右）")]),e._v(" "),_("p",[e._v("select ename,dname from emp "),_("strong",[e._v("right outer join")]),e._v(" dept "),_("strong",[e._v("on")]),e._v(" deptId = did; （outer关键字可以省略）")]),e._v(" "),_("h3",{attrs:{id:"全连接-左侧和右侧所有记录都显示"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#全连接-左侧和右侧所有记录都显示"}},[e._v("#")]),e._v(" 全连接(左侧和右侧所有记录都显示）")]),e._v(" "),_("p",[e._v("full join ..on（MySQL不支持)")]),e._v(" "),_("p",[e._v("联合：大家组合在一起")]),e._v(" "),_("p",[e._v("union all 联合后不合并相同的记录")]),e._v(" "),_("p",[e._v("union  联合后合并相同的记录 (全连接的解决方案：左外连接和右外连接的结果联合，合并相同的记录)")]),e._v(" "),_("p",[e._v("（select ename,dname from emp "),_("strong",[e._v("left outer join")]),e._v(" dept "),_("strong",[e._v("on")]),e._v(" deptId = did）")]),e._v(" "),_("p",[e._v("union")]),e._v(" "),_("p",[e._v("(select ename,dname from emp "),_("strong",[e._v("right outer join")]),e._v(" dept "),_("strong",[e._v("on")]),e._v(" deptId = did);")]),e._v(" "),_("h2",{attrs:{id:"数据库操作"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据库操作"}},[e._v("#")]),e._v(" 数据库操作")]),e._v(" "),_("p",[e._v("先把主表里的数据删除完才能删除副表")]),e._v(" "),_("p",[e._v("进入mysql： mysql -u root mysql")]),e._v(" "),_("p",[e._v("show databases;")]),e._v(" "),_("p",[e._v("use XXX;")]),e._v(" "),_("p",[e._v("显示：desc news; //属性")]),e._v(" "),_("p",[e._v("select *from news;//数据")]),e._v(" "),_("p",[e._v("show tables;//看表")]),e._v(" "),_("p",[e._v("修改乱码： set charset gbk;")]),e._v(" "),_("p",[e._v("删除一行：alter table news "),_("strong",[e._v("drop")]),e._v(" origin;")]),e._v(" "),_("p",[e._v("增加一行： alter table news "),_("strong",[e._v("add")]),e._v(" origin varchar(16);")]),e._v(" "),_("p",[e._v("修改表名：alter table news "),_("strong",[e._v("change")]),e._v(" origin sex int;")]),e._v(" "),_("p",[e._v("修改字符串类型： alter table news "),_("strong",[e._v("modify")]),e._v(" sex varchar(100);")]),e._v(" "),_("p",[e._v("建表： create table person(\n-> id int,\n-> name varchar(20),\n-> addr varchar(100),\n-> sex int);")]),e._v(" "),_("p",[e._v("插入数据：insert into person (id,sex) values(3,0);")]),e._v(" "),_("p",[e._v("insert into person values(1,'j',default,1);")]),e._v(" "),_("p",[e._v("删除数据：delete from person where id=3;")]),e._v(" "),_("p",[e._v("更新数据：update person set addr='zz' where id = 1;")]),e._v(" "),_("p",[e._v("decimal(a,b):插入的数字整数部分不能超过“a-b”位")]),e._v(" "),_("p",[e._v("--读取库中的所有表名\nselect name from sysobjects where xtype='u'")]),e._v(" "),_("p",[e._v("--读取指定表的所有列名\nselect name from syscolumns where id=(select max(id) from sysobjects where xtype='u' and name='表名')")])])}),[],!1,null,null,null);v.default=a.exports}}]);