<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VUEUI | 留简</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="//yun.duiba.com.cn/aurora/assets/28757dfc494a84649d1b9e9e9daa3a57420d00cd.jpeg">script,[object Object]
    <meta name="description" content="Just Text">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.a872a4b8.js" as="script"><link rel="preload" href="/assets/js/2.15df7a88.js" as="script"><link rel="preload" href="/assets/js/17.9cd1efad.js" as="script"><link rel="prefetch" href="/assets/js/10.f8078958.js"><link rel="prefetch" href="/assets/js/11.2fb20a5f.js"><link rel="prefetch" href="/assets/js/12.54d40458.js"><link rel="prefetch" href="/assets/js/13.16d28edc.js"><link rel="prefetch" href="/assets/js/14.2072c223.js"><link rel="prefetch" href="/assets/js/15.644c409f.js"><link rel="prefetch" href="/assets/js/16.dd8186f9.js"><link rel="prefetch" href="/assets/js/18.a6d8459b.js"><link rel="prefetch" href="/assets/js/19.4fee1775.js"><link rel="prefetch" href="/assets/js/20.37e9681c.js"><link rel="prefetch" href="/assets/js/21.fabc5358.js"><link rel="prefetch" href="/assets/js/22.362e31cd.js"><link rel="prefetch" href="/assets/js/23.6aeb1ade.js"><link rel="prefetch" href="/assets/js/24.fc456d4d.js"><link rel="prefetch" href="/assets/js/25.5755a3b5.js"><link rel="prefetch" href="/assets/js/26.fb388ce5.js"><link rel="prefetch" href="/assets/js/3.01fc8ecb.js"><link rel="prefetch" href="/assets/js/4.cdd7d74c.js"><link rel="prefetch" href="/assets/js/5.c5db995c.js"><link rel="prefetch" href="/assets/js/6.7e410269.js"><link rel="prefetch" href="/assets/js/7.dac9ffbf.js"><link rel="prefetch" href="/assets/js/8.1dcffe2c.js"><link rel="prefetch" href="/assets/js/9.74af2c56.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="//yun.duiba.com.cn/aurora/assets/28757dfc494a84649d1b9e9e9daa3a57420d00cd.jpeg" alt="留简" class="logo"> <span class="site-name can-hide">留简</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  HOME
</a></div><div class="nav-item"><a href="/Note/" class="nav-link router-link-active">
  NOTE
</a></div><div class="nav-item"><a href="/DEMO/" class="nav-link">
  DEMO
</a></div><div class="nav-item"><a href="https://github.com/secret821/liuyan.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  git
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://weibo.com/u/7346009584" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  HOME
</a></div><div class="nav-item"><a href="/Note/" class="nav-link router-link-active">
  NOTE
</a></div><div class="nav-item"><a href="/DEMO/" class="nav-link">
  DEMO
</a></div><div class="nav-item"><a href="https://github.com/secret821/liuyan.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  git
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://weibo.com/u/7346009584" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Note/HTML.html" class="sidebar-link">HTML</a></li><li><a href="/Note/CSS.html" class="sidebar-link">css</a></li><li><a href="/Note/node.html" class="sidebar-link">node</a></li><li><a href="/Note/数据库.html" class="sidebar-link">数据库5.8</a></li><li><a href="/Note/js.html" class="sidebar-link">js</a></li><li><a href="/Note/jscode.html" class="sidebar-link">jscode</a></li><li><a href="/Note/VUEUI.html" aria-current="page" class="active sidebar-link">VUEUI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#typora-markdown编辑器" class="sidebar-link">typora （markdown编辑器）</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#vueui-vue组件库" class="sidebar-link">VUEUI  Vue组件库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#elementui" class="sidebar-link">ElementUI</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#vueui-unit02" class="sidebar-link">VUEUI Unit02</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现elementui的经典布局-2" class="sidebar-link">/实现ElementUI的经典布局</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#mintui" class="sidebar-link">MintUI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#基于脚手架安装配置mintui" class="sidebar-link">基于脚手架安装配置MintUI</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#mintui常用组件" class="sidebar-link">MintUI常用组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#完成项目中的注册页面" class="sidebar-link">完成项目中的注册页面</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#vueui-unit03" class="sidebar-link">VUEUI Unit03</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现项目中的注册页面" class="sidebar-link">实现项目中的注册页面</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现项目中的登录页面" class="sidebar-link">实现项目中的登录页面</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#mintui常用组件-2" class="sidebar-link">/MintUI常用组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#navbar组件" class="sidebar-link">Navbar组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#tabcontainer组件" class="sidebar-link">TabContainer组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#tabbar组件" class="sidebar-link">Tabbar组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现项目首页中底部选项卡的设计" class="sidebar-link">实现项目首页中底部选项卡的设计</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#swipe组件" class="sidebar-link">swipe组件</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#vueui-unit04" class="sidebar-link">VUEUI Unit04</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#swipe组件-2" class="sidebar-link">/swipe组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#项目架构" class="sidebar-link">项目架构</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#搭建学子问答项目服务端" class="sidebar-link">搭建学子问答项目服务端</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#http协议" class="sidebar-link">HTTP协议</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#加载首页中的类别列表信息" class="sidebar-link">加载首页中的类别列表信息</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#加载ui类别下-cid-1-的文章首页列表数据" class="sidebar-link">加载UI类别下（cid=1）的文章首页列表数据</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#vueui-unit05" class="sidebar-link">VUEUI Unit05</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现切换顶部选项卡时更新文章列表" class="sidebar-link">实现切换顶部选项卡时更新文章列表</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现列表的触底分页加载" class="sidebar-link">实现列表的触底分页加载</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#将上述代码搬到实现列表的触底分页加载业务" class="sidebar-link">将上述代码搬到实现列表的触底分页加载业务</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#添加弹等待框功能" class="sidebar-link">添加弹等待框功能</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现文章详情页" class="sidebar-link">实现文章详情页</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#区别" class="sidebar-link">区别</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html新特性-unit01" class="sidebar-link">HTML新特性  Unit01</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#moment-js" class="sidebar-link">moment.js</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现注册业务" class="sidebar-link">实现注册业务</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现登录业务" class="sidebar-link">实现登录业务</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#vuex" class="sidebar-link">Vuex</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html5新特性-webstorage" class="sidebar-link">HTML5新特性 -- WebStorage</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#webstorage的基本使用" class="sidebar-link">WebStorage的基本使用</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#webstorage在数据存储时的一些限制" class="sidebar-link">WebStorage在数据存储时的一些限制</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#基于webstorage实现用户状态管理" class="sidebar-link">基于WebStorage实现用户状态管理</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html5新特性" class="sidebar-link">HTML5新特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#音频与视频" class="sidebar-link">音频与视频</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#音、视频标签" class="sidebar-link">音、视频标签</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#audio、video标签的dom操作" class="sidebar-link">audio、video标签的DOM操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html新特性-unit02" class="sidebar-link">HTML新特性  Unit02</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html5-audio-video-方法" class="sidebar-link">HTML5 Audio/Video 方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#canvas-画布" class="sidebar-link">Canvas  画布</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#什么是canvas" class="sidebar-link">什么是Canvas?</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#canvas的应用场景" class="sidebar-link">canvas的应用场景</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#canvas的使用" class="sidebar-link">canvas的使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html新特性-unit03" class="sidebar-link">HTML新特性  Unit03</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#动画卡顿的核心原因-掉帧" class="sidebar-link">动画卡顿的核心原因：掉帧</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#地理定位" class="sidebar-link">地理定位</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#定位基础与原理" class="sidebar-link">定位基础与原理</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#地理定位的实现" class="sidebar-link">地理定位的实现</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#接入第三方位置服务平台-百度地图、高德地图" class="sidebar-link">接入第三方位置服务平台  --  百度地图、高德地图</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html新特性-unit04" class="sidebar-link">HTML新特性  Unit04</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#高德地图常见使用场景" class="sidebar-link">高德地图常见使用场景</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html5-拖放处理" class="sidebar-link">HTML5 拖放处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#dragevent拖拽相关事件" class="sidebar-link">DragEvent拖拽相关事件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#基于拖拽操作实现文件上传" class="sidebar-link">基于拖拽操作实现文件上传</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html新特性-unit05" class="sidebar-link">HTML新特性  Unit05</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#websocket" class="sidebar-link">WebSocket</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#网络通信过程中的长连接与短连接" class="sidebar-link">网络通信过程中的长连接与短连接</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#什么是websocket" class="sidebar-link">什么是websocket？</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#socket-io" class="sidebar-link">socket.io</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#建立websocket连接" class="sidebar-link">建立websocket连接</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#客户端与服务端之间进行通信" class="sidebar-link">客户端与服务端之间进行通信</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#实现群聊天室" class="sidebar-link">实现群聊天室</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#vuecli项目上线视频" class="sidebar-link">vuecli项目上线视频</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html新特性-unit06" class="sidebar-link">HTML新特性  Unit06</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#websocket-群聊完成了-私聊该如何解决" class="sidebar-link">WebSocket 群聊完成了，私聊该如何解决？</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#webworker" class="sidebar-link">WebWorker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#使用worker" class="sidebar-link">使用worker</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#worker与主线程之间的通信" class="sidebar-link">Worker与主线程之间的通信</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#svg" class="sidebar-link">SVG</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#什么是svg" class="sidebar-link">什么是SVG？</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#第一个svg图像" class="sidebar-link">第一个svg图像</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#echarts" class="sidebar-link">ECharts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#helloworld-示例" class="sidebar-link">HelloWorld 示例</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#html新特性-unit07" class="sidebar-link">HTML新特性  Unit07</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#echarts-2" class="sidebar-link">ECharts</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#helloworld-示例-2" class="sidebar-link">HelloWorld 示例</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#基于echarts对北京二手房数据完成数据可视化" class="sidebar-link">基于Echarts对北京二手房数据完成数据可视化</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#http协议的状态管理" class="sidebar-link">HTTP协议的状态管理</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#微信小程序-unit01" class="sidebar-link">微信小程序 Unit01</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#微信公众平台" class="sidebar-link">微信公众平台</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#小程序的接入流程" class="sidebar-link">小程序的接入流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#创建小程序项目" class="sidebar-link">创建小程序项目</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#小程序项目的文件结构" class="sidebar-link">小程序项目的文件结构</a></li></ul></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#微信小程序-unit02" class="sidebar-link">微信小程序 Unit02</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#小程序组件库" class="sidebar-link">小程序组件库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#组件概述" class="sidebar-link">组件概述</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#view-组件" class="sidebar-link">&lt;view 组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#image-组件" class="sidebar-link">&lt;image 组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#swiper-组件" class="sidebar-link">&lt;swiper 组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#text-组件" class="sidebar-link">&lt;text 组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#navigator-组件" class="sidebar-link">&lt;navigator 组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#scroll-view-组件" class="sidebar-link">scroll-view 组件</a></li><li class="sidebar-sub-header"><a href="/Note/VUEUI.html#input-组件" class="sidebar-link">input 组件</a></li></ul></li></ul></li><li><a href="/Note/react.html" class="sidebar-link">React 学习笔记 📒</a></li><li><a href="/Note/微信小程序.html" class="sidebar-link">微信小程序</a></li><li><a href="/Note/UniApp.html" class="sidebar-link">UniApp</a></li><li><a href="/Note/game.html" class="sidebar-link">game🎮</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vueui"><a href="#vueui" class="header-anchor">#</a> VUEUI</h1> <h2 id="typora-markdown编辑器"><a href="#typora-markdown编辑器" class="header-anchor">#</a> <code>typora</code> （<code>markdown</code>编辑器）</h2> <h2 id="vueui-vue组件库"><a href="#vueui-vue组件库" class="header-anchor">#</a> <code>VUEUI</code> <code>Vue</code>组件库</h2> <h3 id="elementui"><a href="#elementui" class="header-anchor">#</a> <code>ElementUI</code></h3> <p><code>elementUI</code>是饿了么团队研发的一款基于<code>VUE</code>的桌面端组件库。</p> <p><code>https://element.eleme.io/#/zh-CN</code></p> <p>后台管理型网站（功能有，开发效率高）</p> <h4 id="搭建elementui基础环境-基于脚手架"><a href="#搭建elementui基础环境-基于脚手架" class="header-anchor">#</a> 搭建<code>ElementUI</code>基础环境 （基于脚手架）</h4> <ol><li>新建脚手架项目。</li> <li>在新项目中通过<code>npm</code>命令安装<code>element-ui</code>。</li> <li>在脚手架项目中，<code>main.js</code>配置<code>ElementUI</code>。</li> <li>开始使用。</li></ol> <p><strong>具体操作：</strong></p> <ol><li><p>新建脚手架项目。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 找一个干净目录 demo</span>
vue create elepro
<span class="token comment"># 依次选择：</span>
Manually <span class="token keyword">select</span> features
Choose Vue version  /  Babel  /  Router
<span class="token number">2</span>.x
Use <span class="token function">history</span> mode <span class="token keyword">for</span> router?     y 
In package.json
Save this as a preset <span class="token keyword">for</span> future projects?   n
</code></pre></div></li> <li><p>在新项目中通过<code>npm</code>命令安装<code>element-ui</code>。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> elepro
<span class="token comment"># 以下两条命令作用相同  哪个都可以 但是要注意，</span>
<span class="token comment"># 一定要在项目目录下（包含package.json）执行安装命令</span>
<span class="token comment"># npm install --save element-ui</span>
<span class="token function">npm</span> i element-ui -S
</code></pre></div></li> <li><p>在脚手架项目中，<code>main.js</code>配置<code>ElementUI</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> ElementUI <span class="token keyword">from</span> <span class="token string">'element-ui'</span><span class="token punctuation">;</span>    <span class="token comment">// 引入模块</span>
<span class="token keyword">import</span> <span class="token string">'element-ui/lib/theme-chalk/index.css'</span><span class="token punctuation">;</span>  <span class="token comment">// 引入样式</span>

<span class="token comment">// Vue.use() 作用为引入全量的ElementUI组件库</span>
<span class="token comment">// 将会把ElementUI的自定义组件、指令等资源导入当前Vue示例。</span>
<span class="token comment">// Vue.use() 方法将会自动调用传入的 ElementUI.install()函数</span>
<span class="token comment">// 所以ElementUI的主js一定会提供一个install方法，并且在该方法中</span>
<span class="token comment">// 将组件库中的所有组件、指令等资源注入到Vue对象。</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUI<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>开始使用。</p></li></ol> <p>案例：访问<code>http://localhost:8080/button</code>， 看到新页面，呈现<code>ElementUI</code>中的按钮。</p> <ol><li><p>启动脚手架。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> run serve
</code></pre></div><p>启动服务-&gt;webpack编译打包成静态资源（html，css，javascript），静态资源套8080的壳子</p></li> <li><p>新建页面：<code>views/Button.vue</code>，编写<code>elementui</code>的按钮组件。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- views/Button.vue --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span><span class="token punctuation">&gt;</span></span>默认按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>主要按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>成功按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>信息按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>警告按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>危险按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>配置路由<code>router/index.js</code>，是的访问<code>/button</code>可以看到新建页面的内容。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">'../views/Button.vue'</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/button'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Button'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Button
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div></li></ol> <p>index.html</p> <p>vue在里面加载，js，css，id=app：动态更新html里面内容</p> <p>↓</p> <p>main.js</p> <p>new vue：路由；如何进行渲染里面的app就是上面渲染的app</p> <p>↓</p> <p>App.vue</p> <p>router-view：显示什么看当前页面上有什么</p> <p>↓</p> <p>index.js</p> <p>思考：<code>ElementUI</code>适合编写什么类型的网站？</p> <p>适合后台管理型网站。</p> <h4 id="navmenu组件-导航组件"><a href="#navmenu组件-导航组件" class="header-anchor">#</a> <code>Navmenu</code>组件（导航组件）</h4> <p><code>navmenu</code>用于实现导航，基本结构如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>导航文本1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>导航文本2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>导航文本3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>导航文本4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>案例：访问<code>http://localhost:8080/nav</code>   看到导航效果。</p> <ol><li>新建<code>views/Nav.vue</code>，编写导航内容。</li> <li>配置路由。</li></ol> <h5 id="设置导航的默认选中项"><a href="#设置导航的默认选中项" class="header-anchor">#</a> 设置导航的默认选中项</h5> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default-active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>导航文本1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>导航文本2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>导航文本3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>导航文本4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="设置导航的下拉子菜单"><a href="#设置导航的下拉子菜单" class="header-anchor">#</a> 设置导航的下拉子菜单</h5> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default-active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>导航文本1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>导航文本2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-submenu</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>主题     
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>黑色主题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>        
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>白色主题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-submenu</span><span class="token punctuation">&gt;</span></span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>导航文本4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="设置垂直导航-垂直方向"><a href="#设置垂直导航-垂直方向" class="header-anchor">#</a> 设置垂直导航 （垂直方向）</h5> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>verticle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>导航文本1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>导航文本2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>导航文本3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>导航文本4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="elementui的经典布局系统"><a href="#elementui的经典布局系统" class="header-anchor">#</a> <code>ElementUI</code>的经典布局系统</h4> <h5 id="container-布局容器"><a href="#container-布局容器" class="header-anchor">#</a> Container 布局容器</h5> <p>用于布局的容器组件，方便快速搭建页面的基本结构：</p> <div class="language-test extra-class"><pre class="language-text"><code>&lt;el-container&gt;：外层容器。当子元素中包含 &lt;el-header&gt; 或 &lt;el-footer&gt; 时，全部子元素会垂直上下排列，否则会水平左右排列。

&lt;el-header&gt;：顶栏容器。

&lt;el-aside&gt;：侧边栏容器。

&lt;el-main&gt;：主要区域容器。

&lt;el-footer&gt;：底栏容器。

注意：`el-container`中只能包含上述5种组件组件。`header`、`aside`、`main`、`footer`的父组件只能是`el-container`。

案例：访问：`http://localhost:8080/layout`，测试`container`布局容器。

1. 新建 `views/Layout.vue`，编写`container`布局系统。
2. 配置路由。
</code></pre></div><h4 id="实现elementui的经典布局"><a href="#实现elementui的经典布局" class="header-anchor">#</a> 实现<code>ElementUI</code>的经典布局</h4> <ol><li>新建<code>Component.vue</code>。</li> <li>搭建<code>header</code>、aside、<code>main</code>组成的布局系统。</li> <li>在<code>header</code>中放水平导航，<code>aside</code>中放垂直导航，<code>main</code>先晾着。</li> <li>微调样式。</li> <li>使用嵌套路由实现<code>main</code>部分的动态更新。</li></ol> <p>嵌套路由：
​children中path不带/
​把子路由内容加到 &lt;router-view/ 里</p> <h2 id="vueui-unit02"><a href="#vueui-unit02" class="header-anchor">#</a> <code>VUEUI Unit02</code></h2> <h3 id="实现elementui的经典布局-2"><a href="#实现elementui的经典布局-2" class="header-anchor">#</a> /实现<code>ElementUI</code>的经典布局</h3> <ol><li>新建<code>Component.vue</code>。</li> <li>搭建<code>header</code>、aside、<code>main</code>组成的布局系统。</li> <li>在<code>header</code>中放水平导航，<code>aside</code>中放垂直导航，<code>main</code>先晾着。</li> <li>微调样式。</li> <li>使用嵌套路由实现<code>main</code>部分的动态更新。</li></ol> <p>嵌套路由可以完美的通过路由地址来控制网页局部页面的更新。配置如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/component'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Component'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Component<span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> Button
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'layout'</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> Layout
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><blockquote><p><code>http://localhost:8080/component/button</code>    包含button组件</p> <p><code>http://localhost:8080/component/layout</code>     包含layout组件</p></blockquote> <h2 id="mintui"><a href="#mintui" class="header-anchor">#</a> <code>MintUI</code></h2> <p><code>MintUI</code>是饿了么团队开发的移动端<code>vue</code>组件库。</p> <p>除了<code>MintUI</code>之外，推荐大家看一下<code>vant</code>、<code>iview</code>等其他移动端组件库。</p> <p><code>mint官方文档：http://mint-ui.github.io/#!/zh-cn</code></p> <p><code>mint腾讯云文档：https://cloud.tencent.com/developer/doc/1273</code></p> <p><code>vant官方文档：https://vant-contrib.gitee.io/vant/#/zh-CN/</code></p> <h3 id="基于脚手架安装配置mintui"><a href="#基于脚手架安装配置mintui" class="header-anchor">#</a> 基于脚手架安装配置<code>MintUI</code></h3> <ol><li>新建脚手架项目。</li> <li>在新项目中通过<code>npm</code>命令安装<code>mint-ui</code>。</li> <li>在脚手架项目中，<code>main.js</code>配置<code>MintUI</code>。</li> <li>开始使用。</li></ol> <p><strong>具体操作：</strong></p> <ol><li><p>新建脚手架项目。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 找一个干净目录 demo</span>
vue create scaffolding
<span class="token comment"># 依次选择：</span>
Manually <span class="token keyword">select</span> features
Choose Vue version  /  Babel  /  Router   /   Vuex
<span class="token number">2</span>.x
Use <span class="token function">history</span> mode <span class="token keyword">for</span> router?     y 
In package.json
Save this as a preset <span class="token keyword">for</span> future projects?   n
</code></pre></div></li> <li><p>在新项目中通过<code>npm</code>命令安装<code>mint-ui</code>。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> scaffolding
<span class="token comment"># 以下两条命令作用相同  哪个都可以 但是要注意，</span>
<span class="token comment"># 一定要在项目目录下（包含package.json）执行安装命令</span>
<span class="token comment"># npm install --save mint-ui</span>
<span class="token function">npm</span> i mint-ui -S
</code></pre></div></li> <li><p>在脚手架项目中，<code>main.js</code>配置<code>MintUI</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> MintUI <span class="token keyword">from</span> <span class="token string">'mint-ui'</span>
<span class="token keyword">import</span> <span class="token string">'mint-ui/lib/style.css'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>MintUI<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>开始使用。</p></li></ol> <h3 id="mintui常用组件"><a href="#mintui常用组件" class="header-anchor">#</a> <code>MintUI</code>常用组件</h3> <h4 id="button组件"><a href="#button组件" class="header-anchor">#</a> <code>Button</code>组件</h4> <p><code>button</code>组件用于显示按钮，其基本结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮类型<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮尺寸<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图标<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">disabled</span>      <span class="token attr-name">禁用样式</span>
            <span class="token attr-name">plain</span><span class="token punctuation">&gt;</span></span>        镂空样式
    按钮文本
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="header组件"><a href="#header组件" class="header-anchor">#</a> <code>Header</code>组件</h4> <p><code>header</code>组件用于定义移动端界面的头部标题栏，其基本结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-header</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>标题栏文本<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>案例：</p> <ol><li>新建页面：<code>src/testing/Header.vue</code>。编写标题栏内容。</li> <li>更新路由。<code>/header</code> 对应 <code>Header.vue</code>。</li></ol> <p>引入外部样式表：<code>reset.css</code>。</p> <ol><li><p>把<code>reset.css</code>文件，放入<code>public/styles</code>文件夹中。</p></li> <li><p>在<code>public/index.html</code>中，使用<code>link</code>引入该<code>css</code>文件即可。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>styles/reset.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <p><strong>脚手架项目非常重要的两个目录：<code>public</code>、<code>src</code>的理解</strong></p> <p>当执行<code>npm run serve</code>，将会编译整个脚手架项目，试图将该项目编译后整合成一个完整的静态资源网站。</p> <p><code>public</code>目录下的资源，将会原封不动的打包到静态资源网站的根目录。</p> <p><code>public/reset.css</code>可以直接通过<code>http://localhost:8080/reset.css</code> 直接访问。</p> <p><code>src</code>目录下的资源，都会被<code>vueloader</code>进行统一管理，统一打包。</p> <h4 id="field组件"><a href="#field组件" class="header-anchor">#</a> <code>Field</code>组件</h4> <p><code>field</code>组件用于实现文本框，其语法：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-field</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>输入框的类型<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>文本框左侧标签的文本内容<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>占位内容<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">readonly</span>
          <span class="token attr-name">disabled</span>
          <span class="token attr-name">state</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>文本框的状态  success error  warning<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">disableClear</span>   <span class="token attr-name">是否显示清空文本框的按钮</span>
          <span class="token attr-name">:attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{maxlength:11}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-field</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><code>disableClear</code>: 是否显示清空文本框的按钮</p> <p><code>:attr</code>: 用于为<code>input</code>原生标签添加<code>html5</code>表单属性。<code>object</code>类型。</p></blockquote> <p>案例： <code>http://localhost:8080/field</code>    看到表单页面<code>testing/Field.vue</code>。</p> <h3 id="完成项目中的注册页面"><a href="#完成项目中的注册页面" class="header-anchor">#</a> 完成项目中的注册页面</h3> <ol><li>新建<code>src/views/Register.vue</code>，编写页面组件内容。</li> <li>配置路由。当访问<code>/register</code>，可以看到注册页面。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/views/Register</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 标题栏 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>mt<span class="token operator">-</span>header title<span class="token operator">=</span><span class="token string">&quot;注册&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>mt<span class="token operator">-</span>button icon<span class="token operator">=</span><span class="token string">&quot;back&quot;</span> slot<span class="token operator">=</span><span class="token string">&quot;left&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>mt<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">&quot;/login&quot;</span> slot<span class="token operator">=</span><span class="token string">&quot;right&quot;</span><span class="token operator">&gt;</span>
        登录
        <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>mt<span class="token operator">-</span>header<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 一组文本框 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> onBlur 焦点失去事件 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 原生的@blur事件添加在最外的a上 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>  native<span class="token punctuation">.</span>capture： 给原生组件绑定原生事件 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>mt<span class="token operator">-</span>field type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
              placeholder<span class="token operator">=</span><span class="token string">&quot;请输入用户名&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;name&quot;</span>
              <span class="token operator">:</span>state<span class="token operator">=</span><span class="token string">&quot;nameState&quot;</span>
              @blur<span class="token punctuation">.</span>native<span class="token punctuation">.</span>capture<span class="token operator">=</span><span class="token string">&quot;checkName&quot;</span>
              label<span class="token operator">=</span><span class="token string">&quot;用户名&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>mt<span class="token operator">-</span>field<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>mt<span class="token operator">-</span>field type<span class="token operator">=</span><span class="token string">&quot;password&quot;</span>
              placeholder<span class="token operator">=</span><span class="token string">&quot;请输入密码&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;pwd&quot;</span>
              <span class="token operator">:</span>state<span class="token operator">=</span><span class="token string">&quot;pwdState&quot;</span>
              @blur<span class="token punctuation">.</span>native<span class="token punctuation">.</span>capture<span class="token operator">=</span><span class="token string">&quot;checkPwd&quot;</span>
              label<span class="token operator">=</span><span class="token string">&quot;密码&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>mt<span class="token operator">-</span>field<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>mt<span class="token operator">-</span>field type<span class="token operator">=</span><span class="token string">&quot;password&quot;</span>
              placeholder<span class="token operator">=</span><span class="token string">&quot;请输入再次输入密码&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;repwd&quot;</span>
              <span class="token operator">:</span>state<span class="token operator">=</span><span class="token string">&quot;repwdState&quot;</span>
              label<span class="token operator">=</span><span class="token string">&quot;确认密码&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>mt<span class="token operator">-</span>field<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>mt<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span>
              @click<span class="token operator">=</span><span class="token string">&quot;checkForm&quot;</span><span class="token operator">&gt;</span>快速注册<span class="token operator">&lt;</span><span class="token operator">/</span>mt<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>  
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token comment">//用于与用户名做双向数据绑定</span>
            nameState<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
            pwd<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">//用于与密码框做双向数据绑定</span>
            pwdState<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
            repwd<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">//用于与密码框做双向数据绑定</span>
            repwdState<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">// 表单验证</span>
        <span class="token function">checkName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// 验证用户名是否符合要求</span>
            <span class="token keyword">let</span> reg<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\w{6,15}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">// 格式合法</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>nameState <span class="token operator">=</span> <span class="token string">'success'</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token comment">// 格式不正确</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>nameState <span class="token operator">=</span> <span class="token string">'error'</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//      密码验证</span>
        <span class="token function">checkPwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> reg<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d{6}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pwd<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// 格式合法</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>pwdState <span class="token operator">=</span> <span class="token string">'success'</span>

                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token comment">// 格式不正确</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>pwd <span class="token operator">=</span> <span class="token string">'error'</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 密码重复验证</span>
        <span class="token function">checkRepwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> reg<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^d{6}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>repwd<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>reg<span class="token operator">==</span><span class="token keyword">this</span><span class="token punctuation">.</span>repwd<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">// 格式合法</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>repwdState <span class="token operator">=</span> <span class="token string">'success'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>repwdState <span class="token operator">=</span> <span class="token string">'error'</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">//表单验证</span>
        <span class="token function">checkForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkPwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkRepwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'发送请求，执行注册业务'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>


</code></pre></div><p>相对路径：开头不是http或者/，相对的是浏览器地址栏里的地址，会在当前文件夹下寻找（把最后一个抹掉）</p> <p>绝对路径：开头是/         从根开始拼接在一起</p> <h2 id="vueui-unit03"><a href="#vueui-unit03" class="header-anchor">#</a> <code>VUEUI Unit03</code></h2> <h3 id="实现项目中的注册页面"><a href="#实现项目中的注册页面" class="header-anchor">#</a> 实现项目中的注册页面</h3> <ol><li>新建<code>src/views/Register.vue</code>，编写页面组件内容。</li> <li>配置路由。当访问<code>/register</code>，可以看到注册页面。</li></ol> <h3 id="实现项目中的登录页面"><a href="#实现项目中的登录页面" class="header-anchor">#</a> 实现项目中的登录页面</h3> <ol><li>新建<code>src/views/Login.vue</code>，编写页面组件内容。</li> <li>配置路由。当访问<code>/login</code>，可以看到登录页面。</li></ol> <h4 id="field组件的-blur失效问题"><a href="#field组件的-blur失效问题" class="header-anchor">#</a> Field组件的<code>@blur</code>失效问题</h4> <p>在<code>MintUI</code>中，为<code>Field</code>组件绑定焦点失去、焦点获取事件的方式如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-field</span> <span class="token attr-name">@blur.native.capture</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-field</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-field</span> <span class="token attr-name">@focus.native.capture</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-field</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在<code>mt-field</code>组件直接添加<code>@blur</code>无效，因为会被<code>vue</code>当做是<code>mt-field</code>组件的一个自定义事件，这种事件需要在<code>mt-field</code>源码中使用<code>$emit()</code>捕获并触发，而我们需要捕获的是<code>input</code>标签的原生<code>blur</code>事件。所以需要告诉<code>vue</code>，该<code>blur</code>事件为原生事件，所以需要添加<code>@blur.native</code>事件修饰符。</p> <p>此时，焦点失去事件依然无效，原因是<code>mt-field</code>组件在编译时将会编译为：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-cell mint-field<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-cell-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-cell-wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-cell-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-cell-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>用户名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-cell-value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入用户名<span class="token punctuation">&quot;</span></span> 
                   <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-field-core<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-field-clear<span class="token punctuation">&quot;</span></span> 
                 <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mintui mintui-field-error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-field-other<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mint-cell-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>原生的<code>@blur</code>事件将会添加在最外层的<code>a</code>上，而浏览器默认<code>input</code>元素的<code>blur</code>事件不会再事件冒泡阶段执行，所以不会执行<code>a</code>的<code>blur</code>事件。所以需要添加<code>@blur.native.capture</code>，是<code>a</code>的<code>blur</code>事件在事件捕获阶段先执行。</p> <h2 id="mintui常用组件-2"><a href="#mintui常用组件-2" class="header-anchor">#</a> /<code>MintUI</code>常用组件</h2> <h3 id="navbar组件"><a href="#navbar组件" class="header-anchor">#</a> <code>Navbar</code>组件</h3> <p><code>Navbar</code>用于实现顶部选项卡（顶部导航）。其基本语法如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-navbar</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navactive<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>体育<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>科技<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>军事<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>娱乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-navbar</span><span class="token punctuation">&gt;</span></span>
data: {
 navactive: '1'
}
</code></pre></div><p>案例：<code>http://localhost:8080/nav</code> 请求看到顶部导航页面。</p> <ol><li>新建页面：<code>testing/Nav.vue</code></li> <li>配置路由映射。</li></ol> <h3 id="tabcontainer组件"><a href="#tabcontainer组件" class="header-anchor">#</a> <code>TabContainer</code>组件</h3> <p><code>TabContainer</code>经常与导航搭配使用，用于定义面板。一个<code>TabContainer</code>里可以声明多个面板，并且实现面板内容的动态切换。其基本语法如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-container</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navactive<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-container-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>面板1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-container-item</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-container-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>面板2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-container-item</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-container-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>面板3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-container-item</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-container-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>面板4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-container-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-container</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>案例：</p> <p>实现项目首页的主体页面结构的搭建。（标题栏、导航、面板）</p> <h3 id="tabbar组件"><a href="#tabbar组件" class="header-anchor">#</a> <code>Tabbar</code>组件</h3> <p><code>Tabbar</code>组件用于实现底部选项卡，其语法结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tabbar</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shouye<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>....<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gouwuche<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wode<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tabbar</span><span class="token punctuation">&gt;</span></span>
data(){
 selected: 'shouye'
}
</code></pre></div><p>案例：<code>/tabbar</code>看到底部选项卡的外观。
<strong>为底部选项卡添加图标</strong></p> <mt-tab-item><div class="language- extra-class"><pre><code>&lt;img src=&quot;../assets/main_0.png&quot; slot=&quot;icon&quot;&gt;
</code></pre></div></mt-tab-item>
```
<p>未来有可能在<code>src</code>中引入<code>src/assets</code>文件夹下的图片资源。如果<code>vue</code>检测到访问的图片资源是<code>src</code>下的资源，在打包时会对这些资源进行特殊处理。</p> <p>若<code>src</code>使用的是相对路径，<code>vue</code>将会把这些资源统一打包到项目的<code>/img</code>目录下，并且重命名（防止文件名冲突），同时更新页面中<code>src</code>的路径。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/img/main_0.82541892.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>若<code>src</code>使用的是绝对路径，<code>vue</code>将不会做任何处理，直接把该路径输出到<code>html</code>中。</p> <p><strong>到底什么样的图片应该放到<code>public</code>下，什么图片应该放到<code>assets</code>下？</strong></p> <p><code>assets</code>下应该存放项目所必须的图标，这些图片是属于项目运行时必须的资源，应放到<code>assets</code>目录下更为合适。</p> <h4 id="点击底部选项卡后-更新路由-跳转页面"><a href="#点击底部选项卡后-更新路由-跳转页面" class="header-anchor">#</a> 点击底部选项卡后，更新路由，跳转页面</h4> <blockquote><p>点击首页：跳转到<code>/tabbar</code></p> <p>点击购物车：跳转到<code>/gouwuche</code></p> <p>点击我的：跳转到<code>/wode</code></p></blockquote> <p>实现步骤：</p> <ol><li>新建两个页面，<code>Gouwuche.vue</code> <code>Wode.vue</code>。</li> <li>购物车页面底部默认选中项为购物车，我的页面底部默认选中项为我的。</li> <li>当激活某个选项卡后，跳转到相应路由地址即可。可以使用<code>watch</code>来监听<code>selected</code>变量的更新。</li></ol> <h3 id="实现项目首页中底部选项卡的设计"><a href="#实现项目首页中底部选项卡的设计" class="header-anchor">#</a> 实现项目首页中底部选项卡的设计</h3> <p>项目包含两个底部选项卡：<code>Home.vue</code> <code>Me.vue</code>。</p> <p>完成两个页面底部选项卡的设计实现，与两页面间的跳转功能。</p> <p><strong>实现步骤：</strong></p> <ol><li>新建<code>views/Me.vue</code>，整体布局与<code>Home.vue</code>类似。</li> <li>在两个页面中都编写底部选项卡组件<code>tabbar</code>。处理好默认选中项。<code>Home.vue</code>中默认选中项为<code>home</code>，<code>Me.vue</code>中默认选中项为<code>me</code>。</li> <li>在两个页面中基于<code>watch</code>来控制他们两个页面间的跳转。</li></ol> <h3 id="swipe组件"><a href="#swipe组件" class="header-anchor">#</a> <code>swipe</code>组件</h3> <p><code>swipe</code>组件用于实现轮播图，其语法结构如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-swipe</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-swipe-item</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-swipe-item</span><span class="token punctuation">&gt;</span></span>
    ....
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-swipe</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>案例：</p> <ol><li>新建页面：<code>testing/Swipe.vue</code>。</li> <li>配置路由：<code>/swipe</code> 查看轮播图效果。</li></ol> <p>事件处理：从外到内</p> <p>事件捕获：从内到外</p> <p>native capture 是属于VUE的，所以在出现相同的问题时都给@blur添加    .native.capture</p> <p>src下会带着一起编译</p> <p>base64图片</p> <p>assets里放的图片，任何时候都不会改变，都是这个图标</p> <h2 id="vueui-unit04"><a href="#vueui-unit04" class="header-anchor">#</a> <code>VUEUI Unit04</code></h2> <h3 id="swipe组件-2"><a href="#swipe组件-2" class="header-anchor">#</a> /<code>swipe</code>组件</h3> <p><code>swipe</code>组件用于实现轮播图，其语法结构如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-swipe</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>height<span class="token punctuation">'</span>:h}<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:speed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:auto</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3000<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:continuous</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:showIndicators</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-swipe-item</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-swipe-item</span><span class="token punctuation">&gt;</span></span>
    ....
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-swipe</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>案例：</p> <ol><li>新建页面：<code>testing/Swipe.vue</code>。</li> <li>配置路由：<code>/swipe</code> 查看轮播图效果。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> flag<span class="token operator">=</span><span class="token keyword">undefined</span><span class="token punctuation">;</span>
flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
flag<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span>
flag<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>

flag<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span>
flag<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
flag<span class="token operator">=</span><span class="token string">'true'</span><span class="token punctuation">;</span>
flag<span class="token operator">=</span><span class="token string">'false'</span><span class="token punctuation">;</span>
flag<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
flag<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'This is true...'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>案例：在首页中添加轮播图组件。</p> <ol><li>确认在<code>tab-container-item</code>中添加<code>Swipe</code>组件。</li> <li>设置相应<code>swipe</code>属性。</li> <li>设置相关<code>script</code>。</li></ol> <h3 id="项目架构"><a href="#项目架构" class="header-anchor">#</a> 项目架构</h3> <p>基于<code>B/S</code>架构（<code>Browser</code> / <code>Server</code>）的<strong>前后端分离</strong>项目。使用<code>http</code>协议作为网络通信协议。服务端数据存储在<code>mysql</code>数据库。</p> <p>客户端：<code>Vue + MintUI</code></p> <p>服务端：<code>nodejs + mysql</code></p> <p>通信协议：<code>http</code></p> <h3 id="搭建学子问答项目服务端"><a href="#搭建学子问答项目服务端" class="header-anchor">#</a> 搭建学子问答项目服务端</h3> <ol><li><p>下载<code>server.zip</code>，解压。</p></li> <li><p>下载<code>xzqa.sql</code>，导入<code>mysql</code>数据库。</p> <p>打开<code>xampp</code>，启动<code>mysql</code>服务，点击<code>shell</code>按钮，进入命令行，执行命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mysql -uroot -p <span class="token operator">&lt;</span> <span class="token punctuation">[</span>把sql文件拖拽进来自动生成文件路径<span class="token punctuation">]</span>
<span class="token comment"># 进入mysql  查看数据库信息</span>
mysql -uroot -p   回车  确认无密码
show databases<span class="token punctuation">;</span>
use xzqa<span class="token punctuation">;</span>
show tables<span class="token punctuation">;</span>
<span class="token keyword">select</span> * from 表名<span class="token punctuation">;</span>
desc 表名<span class="token punctuation">;</span>  <span class="token comment"># 查看表结构</span>
</code></pre></div></li> <li><p>启动<code>server</code>，提供数据服务。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 进入server目录后，执行命令</span>
node app.js
</code></pre></div></li> <li><p>浏览器中验证服务接口：</p> <div class="language-url extra-class"><pre class="language-url"><code><span class="token scheme">http<span class="token scheme-delimiter">:</span></span><span class="token authority"><span class="token authority-delimiter">//</span><span class="token host">localhost</span><span class="token port-segment"><span class="token port-delimiter">:</span><span class="token port">3000</span></span></span><span class="token path"><span class="token path-separator">/</span>category</span>
</code></pre></div></li></ol> <h3 id="http协议"><a href="#http协议" class="header-anchor">#</a> <code>HTTP</code>协议</h3> <p><code>HTTP</code>协议是客户端与服务端进行通信时共同遵守的规范。这些规范主要包括两部分：</p> <ol><li><p>请求响应的过程。</p></li> <li><p>请求、响应数据包的格式。</p> <p>请求数据包：</p> <div class="language-js extra-class"><pre class="language-js"><code>请求行：      <span class="token constant">POST</span>  <span class="token operator">/</span>user<span class="token operator">/</span>login  <span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span>
请求消息头：   key<span class="token operator">=</span>value
             key2<span class="token operator">=</span>value2
             key3<span class="token operator">=</span>value3
             <span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
请求实体：     name<span class="token operator">=</span>zs<span class="token operator">&amp;</span>pwd<span class="token operator">=</span><span class="token number">1234</span><span class="token operator">&amp;</span>age<span class="token operator">=</span><span class="token number">15</span><span class="token operator">&amp;</span>gender<span class="token operator">=</span>m

响应数据包：

状态行：  <span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span>  <span class="token number">200</span>  <span class="token constant">OK</span>
响应消息头：  key<span class="token operator">=</span>value
            key2<span class="token operator">=</span>value2
            key3<span class="token operator">=</span>value3
            <span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
响应实体：   响应数据二进制内容
</code></pre></div></li></ol> <h3 id="加载首页中的类别列表信息"><a href="#加载首页中的类别列表信息" class="header-anchor">#</a> 加载首页中的类别列表信息</h3> <p>实现步骤：</p> <ol><li><p>安装并配置<code>axios</code>。</p> <p>安装：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> scaffolding 
<span class="token function">npm</span> <span class="token function">install</span> --save axios
</code></pre></div><p>配置<code>main.js</code>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span> axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">&quot;http://localhost:3000/&quot;</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>axios <span class="token operator">=</span> axios<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>在<code>mounted</code>中发送<code>http</code>请求，获取响应数据，渲染页面。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// 发送http请求    </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/category'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>      
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token keyword">let</span> cats <span class="token operator">=</span> result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results<span class="token punctuation">;</span> <span class="token comment">// [{},{},{}]      // 存入data      </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cats <span class="token operator">=</span> cats<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre></div></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>insert into xzqa_category <span class="token function">values</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'教育'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> from xzqa_category where id<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="加载ui类别下-cid-1-的文章首页列表数据"><a href="#加载ui类别下-cid-1-的文章首页列表数据" class="header-anchor">#</a> 加载<code>UI</code>类别下（<code>cid=1</code>）的文章首页列表数据</h3> <p>实现步骤：</p> <ol><li><p>完成单个列表项的<code>UI</code>界面设计与实现。</p></li> <li><p>在<code>mounted</code>中加载<code>UI</code>类别下的首页文章列表数据（发请求）。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 页面元素挂载完毕后执行该生命周期方法 */</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// 发送http请求，获取UI类别下的第一页文章列表    </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/articles?cid=1&amp;page=1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 把文章列表数据存入data，供页面进行列表渲染        </span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>articles <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>当获取到响应数据后，渲染列表。</p></li></ol> <h4 id="处理列表渲染时的图片路径问题"><a href="#处理列表渲染时的图片路径问题" class="header-anchor">#</a> 处理列表渲染时的图片路径问题</h4> <p>文章列表的缩略图适合放在<code>public</code>下还是<code>assets</code>下？</p> <p><code>assets</code>比较适合存放一些<strong>应用所必需</strong>的图标，跟随项目进行编译打包。若图标足够小，<code>vue</code>在打包的过程中将会把该图片转为<code>base64</code>的格式，直接为<code>src</code>赋值，这样在加载页面时，就不会再次发送图片请求，提高网页的响应速度。</p> <p>像列表中需要显示的图片，只需要存入一个静态资源目录中，通过数据库中查询的图片路径访问他们即可，不需要跟随项目一起打包。所以这些图片适合放入<code>public</code>目录下。</p> <p>所有的属性的属性值全是字符串</p> <p><img src="C:%5CUsers%5CASUS%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210803094904891.png" alt="image-20210803094904891"></p> <p>ajax:局部更新技术</p> <p>axios:技术封装</p> <p>XMLHttpRequest:对象</p> <p>前后端分离</p> <p>前端：Vue脚手架项目    :8080     给浏览器客户端返回页面</p> <p>后端：node.js项目         :3000</p> <p>跨域问题：<strong>ajax</strong>请求发出之后返回时，<strong>浏览器</strong>会拦截</p> <p>协议：包含数据包格式</p> <p>数据包结构：</p> <ol><li>请求数据包的结构</li></ol> <p>第一部分： 请求行（数据包中的一行内容）</p> <p>请求行包括三部分内容：</p> <p>请求方式(get/post)</p> <p>请求资源路径（端口号之后的内容，比如/appname/servlet）</p> <p>协议的类型与版本</p> <p>第二部分： 若干消息头（消息头是由w3c定义的一些有特殊含义的键值对）</p> <p>消息头的样式，比如: content-type= text/html;</p> <p>服务器和浏览器都会遵守这些消息头的约定。</p> <p>消息头一般由服务器或者浏览器自动生成，但是也可以通过编程的方式生成</p> <p>三：空行</p> <p>第四部分: 实体内容</p> <p>如果请求方式是post方式，请求参数及值会放在这儿。</p> <p>如果请求方式是get 方式，请求参数与值是包含在请求资源路径里面。</p> <p>key=value    键值对·</p> <p>get 前两部分不能带中文所以一般使用post</p> <p>协议数据包</p> <p>解决同源策略</p> <p>1.jsonp</p> <p>2.proxy</p> <p>3.cors 在8080页面想向3000发请求，</p> <p>server.use(cors({</p> <p>origin:['http://localhost:8080/'],['http://192.168.13.48:8080']}))</p> <h2 id="vueui-unit05"><a href="#vueui-unit05" class="header-anchor">#</a> <code>VUEUI Unit05</code></h2> <p>:infinte-scroll-immediate-check=&quot;true&quot;：无限滚动指令立即执行</p> <p>封装：</p> <p>​ 1.复用</p> <p>​ 2.可维护性强</p> <p>跳转：router-link to</p> <p>尽量用类选择器，不要标签选择器，尽量加scope</p> <p><em><strong>处理列表渲染时的图片路径问题</strong></em></p> <p>文章列表的缩略图适合放在<code>public</code>下还是<code>assets</code>下？</p> <p><code>assets</code>比较适合存放一些应用所必需的图标，跟随项目进行编译打包。若图标足够小，<code>vue</code>在打包的过程中将会把该图片转为<code>base64</code>的格式，直接为<code>src</code>赋值，这样在加载页面时，就不会再次发送图片请求，提高网页的响应速度。</p> <p>像列表中需要显示的图片，只需要存入一个静态资源目录中，通过数据库中查询的图片路径访问他们即可，不需要跟随项目一起打包。所以这些图片适合放入<code>public</code>目录下。</p> <p><code>public</code>下的资源可以直接通过绝对路径进行访问： <code>/articles/1.jpg</code></p> <h3 id="实现切换顶部选项卡时更新文章列表"><a href="#实现切换顶部选项卡时更新文章列表" class="header-anchor">#</a> 实现切换顶部选项卡时更新文章列表</h3> <p>由于每个选项卡内容布局都一样，切换顶部导航时仅仅需要更新列表即可，没必要搞那么多的面板。留下第一个即可。</p> <p>当激活某个顶部选项卡时，获取当前激活项类别的<code>ID</code>，发送<code>http</code>请求，获取响应数据，重新渲染列表。</p> <p>实现步骤：</p> <ol><li>编写<code>watch</code>，监听<code>navactive</code>的变化，因为<code>navactive</code>的值就是当前顶部导航选中项类别的<code>ID</code>值。</li> <li>一旦发现导航更新了激活项，获取当前激活项的类别<code>ID</code>，作为<code>cid</code>参数重新发送<code>http</code>请求。</li> <li>获取响应数据，将得到的文章数据直接替换掉当前文章数组即可。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>  watch<span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token comment">/** 监听导航的变化 */</span>
    <span class="token function">navactive</span><span class="token punctuation">(</span><span class="token parameter">newval</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 是窗口滚动条滚到0,0的位置</span>
      window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token comment">// 将page变量改为1。</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// newval即是当前激活项的类别ID</span>
      <span class="token comment">// 发送http请求，获取响应数据，更新文章列表。</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadArticles</span><span class="token punctuation">(</span>newval<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">arts</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>articles <span class="token operator">=</span> arts<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><h3 id="实现列表的触底分页加载"><a href="#实现列表的触底分页加载" class="header-anchor">#</a> 实现列表的触底分页加载</h3> <h4 id="infinite-scroll指令-无限滚动指令"><a href="#infinite-scroll指令-无限滚动指令" class="header-anchor">#</a> <code>Infinite Scroll</code>指令（无限滚动指令）</h4> <p><code>Infinite scroll</code>用于实现无限滚动，监听触底事件。其基本语法如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">v-infinite-scroll</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>触底后执行的函数的函数名称<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">infinite-scroll-distance</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>触发事件时距离底部的高度阈值<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">infinite-scroll-disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>变量名: busy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    .......
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>案例：测试无限滚动指令。</p> <ol><li>新建<code>testing/Inf.vue</code></li> <li>配置路由，当访问<code>/inf</code>，看到无限滚动效果。</li></ol> <h3 id="将上述代码搬到实现列表的触底分页加载业务"><a href="#将上述代码搬到实现列表的触底分页加载业务" class="header-anchor">#</a> 将上述代码搬到实现列表的触底分页加载业务</h3> <p>如上设置后发现问题：当刷新页面后将会自动执行一次<code>loadmore</code>方法。为什么？</p> <p>因为当刷新页面后，默认情况下将会先加载一个空数组，然后发请求。导致无限滚动指令认为数据无法填充完成屏幕，导致自动调用<code>loadmore</code>（但是实际上请求发出去了，还没有回来），所以需要为无限滚动指令配一个新的指令属性：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">v-infinite-scroll</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>触底后执行的函数的函数名称<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">infinite-scroll-distance</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>触发事件时距离底部的高度阈值<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">infinite-scroll-disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>变量名: busy<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:infinite-scroll-immediate-check</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

      <span class="token comment">&lt;!-- distance  &quot;触发事件时距离底部的高度阈值&quot;--&gt;</span>
      <span class="token comment">&lt;!-- &quot;loadmore&quot;触底后执行的函数的函数名称 --&gt;</span>
      <span class="token comment">&lt;!-- 控制无限指令的开关 --&gt;</span>
      <span class="token comment">&lt;!-- 无限滚动指令立即执行 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mt-tab-container-item</span>
        <span class="token attr-name">infinite-scroll-distance</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">v-infinite-scroll</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loadmore<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">infinite-scroll-disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>busy<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:infinite-scroll-immediate-check</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mt-tab-container-item</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="列表触底分页加载的实现思路"><a href="#列表触底分页加载的实现思路" class="header-anchor">#</a> 列表触底分页加载的实现思路</h4> <ol><li><p>为<code>container</code>添加无限滚动指令，绑定方法：<code>loadmore</code>。</p></li> <li><p>在<code>loadmore</code>发送新的<code>/articles</code>请求，传递全新的参数：<code>cid</code> <code>page</code>。获取服务端返回回来的新文章数组，把结果集追加到<code>data</code>下的<code>articles</code>属性中，更新列表显示内容。</p> <p>需要解决的问题：分页时的当前页码为题。</p> <p>需要在<code>data</code>中维护一个变量：<code>page</code>。该变量会随着无限滚动的进行而递增。<code>page++</code>。</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">/** 触底加载下一页文章列表 */</span>
    <span class="token function">loadmore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 发请求，加载下一页数据，追加到当前列表末尾</span>
      <span class="token keyword">let</span> cid <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>navactive<span class="token punctuation">;</span> <span class="token comment">// navactive就是当前类别ID</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token comment">// 当前页码+1</span>
      <span class="token keyword">let</span> page <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">;</span>     <span class="token comment">// 下一页的页码</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">loadmore -- cid:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cid<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> page:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>busy <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token comment">// 禁用无限滚动</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadArticles</span><span class="token punctuation">(</span>cid<span class="token punctuation">,</span> page<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">arts</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token comment">//把arts数组元素加到articles数组元素中</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>articles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>arts<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>busy <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h4 id="封装loadarticles用于加载不同条件下的文章列表"><a href="#封装loadarticles用于加载不同条件下的文章列表" class="header-anchor">#</a> 封装<code>loadArticles</code>用于加载不同条件下的文章列表</h4> <p>至此发现有3个地方都需要加载文章列表：</p> <ol><li><code>mounted</code>  加载首页数据</li> <li><code>watch navactive</code>   点击导航，更新列表</li> <li><code>infinite scroll</code>    无限滚动，加载下一页</li></ol> <p>伪代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// callback是一个函数</span>
<span class="token function">loadArticles</span><span class="token punctuation">(</span><span class="token parameter">cid<span class="token punctuation">,</span> page<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/articles?cid--page'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">callback</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/articles?cid--page'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>articles <span class="token operator">=</span> arts<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">navactive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/articles?cid--page'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>articles <span class="token operator">=</span> arts<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">loadmore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/articles?cid--page'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>articles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span>art<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>若封装的方法为异步方法（方法内部有异步处理的代码），并且在调用异步方法时需要获取到异步任务执行完毕后的结果，有两种方式：<code>callback</code>（回调），<code>Promise</code>。</p> <h3 id="添加弹等待框功能"><a href="#添加弹等待框功能" class="header-anchor">#</a> 添加弹等待框功能</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 发送http请求，加载文章列表
     *  cid: 文章类别id
     *  page:  页码
     *  callback:  回调函数  将会在数据加载完毕后自动调用
     *  所以需要在callback中声明文章列表获取后的操作
     */</span>
<span class="token function">loadArticles</span><span class="token punctuation">(</span><span class="token parameter">cid<span class="token punctuation">,</span> page<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 弹出加载提示框</span>
    <span class="token comment">// this.$indicator 就是 Indicator对象</span>
    <span class="token comment">// 在Vue.use(MintUI)时，为Vue.prototype.$indicator赋的值</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$indicator<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        text<span class="token operator">:</span><span class="token string">'加载中...'</span><span class="token punctuation">,</span>
        spinnerType<span class="token operator">:</span> <span class="token string">'snake'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/articles?cid=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cid<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;page=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">callback</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$indicator<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="实现文章详情页"><a href="#实现文章详情页" class="header-anchor">#</a> 实现文章详情页</h3> <p>需求是点击首页中某一个文章列表项后，跳转到文章详情页，并且传递当前选中文章<code>id</code>。在详情页中，接收该<code>id</code>参数，发送<code>http</code>请求，获取文章详情数据，渲染页面。</p> <ol><li><p>准备好详情页。</p></li> <li><p>在首页文章列表项中添加<code>routerlink</code>， 通过<code>routerlink</code>实现页面跳转，跳转过程中需要传递参数。</p> <p><code>vue</code>中通过<code>router-link</code>路由跳转传参的方式有两种：</p> <div class="language-html extra-class"><pre class="language-html"><code>query传参
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/article?id=237<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
param传参
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/article/237<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>第一种：使用<code>？</code>的方式向第二个页面传参：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/article?id=237<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>详情页中应如下方式接受：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">// console.log(this.)</span>
 <span class="token comment">// console.log(this.$route)</span>
 <span class="token comment">// console.log(this.$route.query)</span>
 <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>第二种：使用<strong>路径参数</strong>的方式向第二个页面传参：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/article/237<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>接收参数：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/article/:id'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Article<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre></div></blockquote></li></ol> <h3 id="区别"><a href="#区别" class="header-anchor">#</a> 区别</h3> <p><em><strong>vue中this. r o u t e . q u e r y 和 t h i s . route.query和this. route.query和this.route.params &amp; query传参和params传参的使用和区别</strong></em></p> <h4 id="_1-query传参"><a href="#_1-query传参" class="header-anchor">#</a> 1.query传参</h4> <p>路由：</p> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      routes<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> login <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'register'</span><span class="token punctuation">,</span>path<span class="token operator">:</span> <span class="token string">'/register'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> register <span class="token punctuation">}</span> 
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>导航：</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">// 注意：这是 query 两种传参方式 一种是直接跳转把字符串传过去 一种是传描述目标位置的对象</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">&quot;/login?id=10&amp;name=zs&quot;</span><span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;{path:'/register',query:{id:5,name:'lili'}}&quot;</span><span class="token operator">&gt;</span>注册<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
    或
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;{name:'register',query:{id:5,name:'lili'}}&quot;</span><span class="token operator">&gt;</span>注册<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
    
    
等同于：
 <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login?id=10&amp;name=zs'</span><span class="token punctuation">)</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>path<span class="token operator">:</span><span class="token string">'/register'</span><span class="token punctuation">,</span>query<span class="token operator">:</span><span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'lili'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
 或
 <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'register'</span><span class="token punctuation">,</span>query<span class="token operator">:</span><span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'lili'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p><em><strong>注意：jquery可以通过name或path来引入路由</strong></em></p> <h4 id="_2-params传参"><a href="#_2-params传参" class="header-anchor">#</a> 2.params传参</h4> <p>路由：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/login/:id/:name'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> login <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// 这里不传入对应的参数（:/id/:name） 刷新页面 参数会消失,页面中就丢失了数据</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'register'</span><span class="token punctuation">,</span> path<span class="token operator">:</span> <span class="token string">'/register/:id/:name'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> register <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>导航：</p> <p>// 注意：这是 params 两种传参方式 一种是直接跳转把字符串传过去 一种是传描述目标位置的对象</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">&quot;/login/12/ls&quot;</span><span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;{name:'register',params:{id:10,name:'lili'}}&quot;</span><span class="token operator">&gt;</span>注册<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
    
等同于：
 <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login/12/ls'</span><span class="token punctuation">)</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'register'</span><span class="token punctuation">,</span>params<span class="token operator">:</span><span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'lili'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>注意：params只能通过name来引入路由，path会undefined</p> <p><strong>jquery传参和params传参的区别</strong> <strong>1.用法上:</strong></p> <p>上文已经提到query可以用name或path来引入
<strong>params必需要用name来引入</strong>，接收参数都是类似的，分别是:
<strong>this.$route.query.name</strong>和<strong>this.$route.params.name</strong>。
<strong>2.地址栏表现形式上:</strong>
query：</p> <p>​   /login?id=10&amp;name=zs</p> <p>params：</p> <p>​   /login/12/ls</p> <p>注意：这里的12和ls 对应的是/:id/:name 这两个参数可以不写 那么就不会在地址栏上显示 不过刷新页面参数会消失 写上参数刷新页面 参数不会消失</p> <p><strong>1.query方式传参和接收参数</strong>
传参:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        path<span class="token operator">:</span><span class="token string">'/detail/:id'</span><span class="token punctuation">,</span>
        query<span class="token operator">:</span><span class="token punctuation">{</span>
          id<span class="token operator">:</span>id
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>接收参数:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id
</code></pre></div><p>Tips:</p> <p>传参是this.r o u t e r , 接 收 参 数 是 t h i s . router,接收参数是this.router,<strong>接收参数是this.route</strong>,这里千万要看清了！！！</p> <p><strong>2.params方式传参和接收参数</strong>
传参:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'Detail'</span><span class="token punctuation">,</span>
        params<span class="token operator">:</span><span class="token punctuation">{</span>
          id<span class="token operator">:</span>id
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>接收参数:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
</code></pre></div><p>Tips:</p> <p>params传参，push里面只能是 name:‘xxxx’,不能是path:’/xxx’,因为<strong>params只能用name来引入路由</strong>，如果这里写成了path，接收参数页面会是undefined！！！</p> <p>另外，二者还有点区别：
接收参数
// <strong>query通过this.$route.query接收参数</strong>
created () {
const id = this.$route.query.id;
}</p> <p>// <strong>params通过this.$route.params来接收参数</strong>
created () {
const id = this.$route.params.id;
}</p> <p>切换路由</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// query通过path切换路由</span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;{path: 'Detail', query: { id: 1 }}&quot;</span><span class="token operator">&gt;</span>前往Detail页面<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
<span class="token comment">// params通过name切换路由</span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;{name: 'Detail', params: { id: 1 }}&quot;</span><span class="token operator">&gt;</span>前往Detail页面<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
</code></pre></div><p>简单说<strong>query相当于get请求</strong>，页面跳转的时候，可以<strong>在地址栏看到请求参数</strong>，浏览器刷新页面不会消失，而<strong>params相当于post请求</strong>，<strong>参数不会在地址栏中显示</strong>，浏览器刷新页面后消失。</p> <h4 id="vue监听路由"><a href="#vue监听路由" class="header-anchor">#</a> <strong>Vue监听路由</strong></h4> <p><strong>方式一：监听$router</strong>
复用组件时，想对路由参数的变化作出响应的话，你可以简单地 watch（监测变化） $route 对象：</p> <div class="language-js extra-class"><pre class="language-js"><code>  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'$route'</span> <span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 对路由变化作出响应...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p><strong>方式二：唯一值 key 属性</strong>
Vue 为你提供了一种方式来声明“这两个元素是完全独立的——不要复用它们”。只需添加一个具有唯一值的 key 属性即可</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>view <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;key&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>

computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>name <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token operator">?</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>name <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

</code></pre></div><p>使用computed属性和Date()可以保证每一次的key都是不同的，这样就可以如愿刷新数据了。</p> <p>实践</p> <ol><li><p>定义路由</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/hse/problem/prMain/deal/:id'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/hse/Problem/PrDeal.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    meta<span class="token operator">:</span> <span class="token punctuation">{</span>
      keepAlive<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre></div></li> <li><p>动态路由传参</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">handleDeal</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
            <span class="token punctuation">{</span>
              path<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/hse/problem/prMain/deal/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
              params<span class="token operator">:</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> id<span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre></div><p>3.监听路由</p> <div class="language-js extra-class"><pre class="language-js"><code>          watch<span class="token operator">:</span><span class="token punctuation">{</span>
           <span class="token comment">//监听路由</span>
           <span class="token function">$route</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
             <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token operator">!==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               <span class="token keyword">this</span><span class="token punctuation">.</span>paramId <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function">paramId</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span>oldVal</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>newVal <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> newVal <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                  <span class="token comment">//初始化数据 </span>
                  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">

4.init方法初始化数据

   </span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>js
   methods<span class="token operator">:</span><span class="token punctuation">{</span>
              <span class="token comment">//初始化数据</span>
              <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
                vm<span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                  vm<span class="token punctuation">.</span>$axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/hse/sim/prProblem/v1/get/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>vm<span class="token punctuation">.</span>dataId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">reply</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                    vm<span class="token punctuation">.</span>form <span class="token operator">=</span> reply<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                    vm<span class="token punctuation">.</span>$toast<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   
</code></pre></div><p>实例</p> <div class="language-js extra-class"><pre class="language-js"><code>routes<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token comment">// 写法 (1)</span>
  <span class="token punctuation">{</span> <span class="token comment">//在路由中显示传递的参数   </span>
 path<span class="token operator">:</span> <span class="token string">'/skipIn/:name/:age'</span><span class="token punctuation">,</span> <span class="token comment">//传递两个参数</span>
 name<span class="token operator">:</span> <span class="token string">'SkipIn'</span><span class="token punctuation">,</span>    <span class="token comment">//跳转页面的名字</span>
 component<span class="token operator">:</span> SkipIn  <span class="token comment">//注册组件</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment">// 写法 (2)</span>

<span class="token comment">// { </span>
<span class="token comment">//   path: '/skipIn',</span>
<span class="token comment">//   name: 'SkipIn',</span>
<span class="token comment">//   component: SkipIn</span>
<span class="token comment">// }</span>
<span class="token punctuation">]</span>
跳转之前的页面

<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;skip&quot;</span><span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;Input&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>form ref<span class="token operator">=</span><span class="token string">&quot;form&quot;</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;form&quot;</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;80px&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;20&quot;</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;6&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;姓名:&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;form.name&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;6&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;年龄:&quot;</span><span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;form.age&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;skipBtn&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;skipBtn&quot;</span><span class="token operator">&gt;</span>路由跳转<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
name<span class="token operator">:</span><span class="token string">'RouterSkip'</span><span class="token punctuation">,</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">return</span><span class="token punctuation">{</span>
form<span class="token operator">:</span><span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
 age<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>
<span class="token function-variable function">skipBtn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">// 写法 1.如果以这种方式传递参数，那么路由的写法要以(1)为准。</span>
 <span class="token comment">// url的表现形式为(url中带参数)：http://localhost:8080/#/skipIn/小明/20</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&quot;/skipIn/&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">// 写法 2. 如果以这种方式传递参数，那么路由的写法要以(2)就可以了。</span>
    <span class="token comment">// url的表现形式为(url中不带参数)：http://localhost:8080/#/skipIn</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'SkipIn'</span><span class="token punctuation">,</span> params<span class="token operator">:</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>name<span class="token punctuation">,</span> age<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 注：如果以2这种方式传递参数时，那么当刷新跳转后传参的页面，数据将不存在。</span>

 <span class="token comment">// 写法 3. 如果以这种方式传递参数，那么路由的写法要以(2)就可以了。</span>
    <span class="token comment">// url的表现形式为(url中带参数)：http://localhost:8080/#/skipIn?name=小明&amp;age=20</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&quot;/skipIn&quot;</span><span class="token punctuation">,</span> query<span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>name<span class="token punctuation">,</span> age<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 注：如果以1、3这种方式传递参数时，刷新跳转后传参的页面，数据还会显示存在。</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre></div><p>跳转之后的页面</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;skipIn&quot;</span><span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;info&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>msg<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;backBtn&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;back&quot;</span><span class="token operator">&gt;</span>
  返回<span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;iconfont icon-fanhui back&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;information&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>params<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
 name<span class="token operator">:</span><span class="token string">'SkipIn'</span><span class="token punctuation">,</span>
 <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span><span class="token punctuation">{</span>
  msg<span class="token operator">:</span> <span class="token string">&quot;路由传参页面&quot;</span><span class="token punctuation">,</span>
  params<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 methods<span class="token operator">:</span><span class="token punctuation">{</span>
   <span class="token function-variable function">back</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//返回</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token function-variable function">showInfo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">// 对应写法 1. 2. 获取传过来的参数</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>params <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

  <span class="token comment">// 对应写法 3. 获取传过来的参数</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>params <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;scss&quot;</span> scoped<span class="token operator">&gt;</span>
  #skipIn<span class="token punctuation">{</span>
   width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
   height<span class="token operator">:</span> <span class="token number">400</span>px<span class="token punctuation">;</span>
   background<span class="token operator">:</span> red<span class="token punctuation">;</span>
   <span class="token punctuation">.</span>header<span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    background<span class="token operator">:</span> #eee<span class="token punctuation">;</span>
    padding<span class="token operator">:</span> <span class="token number">5</span>px <span class="token number">20</span>px<span class="token punctuation">;</span>
    overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">.</span>info<span class="token punctuation">{</span>
     font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
     line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">32</span>px<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>backBtn<span class="token punctuation">{</span>
     float<span class="token operator">:</span> right<span class="token punctuation">;</span>
     <span class="token punctuation">.</span>back<span class="token punctuation">{</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token punctuation">.</span>information<span class="token punctuation">{</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>


### <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">moment.js</span><span class="token template-punctuation string">`</span></span>

<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">moment.js</span><span class="token template-punctuation string">`</span></span>是一个日期时间的<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">js</span><span class="token template-punctuation string">`</span></span>类库。可以运行在浏览器及<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">node</span><span class="token template-punctuation string">`</span></span>环境下。

#### <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">momentjs</span><span class="token template-punctuation string">`</span></span>的常用操作

##### <span class="token function">解析</span>  <span class="token punctuation">(</span>创建一个<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">moment</span><span class="token template-punctuation string">`</span></span>对象<span class="token punctuation">)</span> 

<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>`javascript
<span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 当前时刻let m = moment('2021-10-10');   // 通过字符串 解析为一个moment对象</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token string">'10/12/2021'</span><span class="token punctuation">,</span> <span class="token string">'MM/DD/YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> moment<span class="token punctuation">.</span><span class="token function">unix</span><span class="token punctuation">(</span>时间秒数<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 通过秒级时间戳，得到moment对象</span>
</code></pre></div><h5 id="显示-将一个moment对象转成字符串"><a href="#显示-将一个moment对象转成字符串" class="header-anchor">#</a> 显示（将一个<code>moment</code>对象转成字符串）</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> s <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY年MM-DD HH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s <span class="token operator">-</span><span class="token operator">&gt;</span>  <span class="token string">'2021年10-10 10:05:55'</span>
</code></pre></div><p>安装：</p> <p>npm install --save moment</p> <p>配置<code>main.js</code>：</p> <p>import moment from 'moment'Vue.prototype.moment = moment;</p> <h2 id="html新特性-unit01"><a href="#html新特性-unit01" class="header-anchor">#</a> <code>HTML新特性 Unit01</code></h2> <h3 id="moment-js"><a href="#moment-js" class="header-anchor">#</a> <code>moment.js</code></h3> <p><code>moment.js</code>是一个日期时间的<code>js</code>类库。可以运行在浏览器及<code>node</code>环境下。</p> <h4 id="momentjs的常用操作"><a href="#momentjs的常用操作" class="header-anchor">#</a> <code>momentjs</code>的常用操作</h4> <h5 id="解析-创建一个moment对象"><a href="#解析-创建一个moment对象" class="header-anchor">#</a> 解析  (创建一个<code>moment</code>对象)</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 当前时刻</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token string">'2021-10-10'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 通过字符串 解析为一个moment对象</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token string">'10/12/2021'</span><span class="token punctuation">,</span> <span class="token string">'MM/DD/YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> moment<span class="token punctuation">.</span><span class="token function">unix</span><span class="token punctuation">(</span>时间秒数<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 通过秒级时间戳，得到moment对象</span>
</code></pre></div><p><strong>显示（将一个<code>moment</code>对象转成字符串）</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY年MM-DD HH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s <span class="token operator">-</span><span class="token operator">&gt;</span>  <span class="token string">'2021年10-10 10:05:55'</span>
</code></pre></div><p>安装：</p> <div class="language-node extra-class"><pre class="language-text"><code>npm install --save moment
</code></pre></div><p>配置<code>main.js</code>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">'moment'</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>moment <span class="token operator">=</span> moment<span class="token punctuation">;</span>
</code></pre></div><h3 id="实现注册业务"><a href="#实现注册业务" class="header-anchor">#</a> 实现注册业务</h3> <ol><li>完成注册页面中的表单验证。</li> <li>所有表单验证成功后，发送<code>post</code>请求。<code>/register</code></li> <li>针对不同的响应，呈现不同的界面。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">//表单验证</span>
    <span class="token function">checkForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkPwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkRepwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;发送请求，执行注册业务&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 发送post请求，传递两个参数：username password</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>axios
        <span class="token comment">// username password 要和后端接口名字对应（app.js）</span>
          <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/register&quot;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">username=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;&amp;password=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>pwd<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code<span class="token operator">==</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//注册成功</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$toast</span><span class="token punctuation">(</span><span class="token string">'注册成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code<span class="token operator">==</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//用户已存在</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$toast</span><span class="token punctuation">(</span><span class="token string">'注册失败，用户已存在'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="实现登录业务"><a href="#实现登录业务" class="header-anchor">#</a> 实现登录业务</h3> <ol><li>完成登录页面中的表单验证。</li> <li>所有表单验证成功后，发送<code>post</code>请求。<code>/login</code></li> <li>针对不同的响应，呈现不同的界面。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">//表单验证</span>
    <span class="token function">checkForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkPwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;发送请求，执行登录业务&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 发送post请求，传递两个参数：username password</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>axios
          <span class="token comment">// username password 要和后端接口名字对应（app.js）</span>
          <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">username=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;&amp;password=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>pwd<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 登录成功</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$toast</span><span class="token punctuation">(</span><span class="token string">&quot;登录成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">// 提交mutations修改登录状态</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;loginOK&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

              <span class="token comment">//永久保存数据</span>
              <span class="token comment">//把islogin和name存入sessionStorage</span>
              sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;islogin&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

              <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//跳转到首页</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token comment">// 登录失败</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$toast</span><span class="token punctuation">(</span><span class="token string">&quot;账号或密码输入错误&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="vuex"><a href="#vuex" class="header-anchor">#</a> <code>Vuex</code></h3> <p><code>Vue</code>中实现用户的状态管理。</p> <p>项目中急需解决的问题：登录成功后，保存用户状态，在项目的其它页面中，访问登录用户的状态（已登录、未登录），从而在每个页面右上角提示欢迎消息。</p> <p>我们可以把<code>Vuex</code>容器当做一个仓库，必要时可以向仓库中存储一些状态信息（<code>state</code>）。当应用程序需要获取这些状态时，访问<code>vuex</code>获取相应数据即可，从而达到所有组件页面共享状态数据的效果。</p> <h4 id="vuex的基本使用"><a href="#vuex的基本使用" class="header-anchor">#</a> <code>Vuex</code>的基本使用</h4> <h5 id="state"><a href="#state" class="header-anchor">#</a> <code>state</code></h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code>state<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'xx'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
    school<span class="token operator">:</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'qh'</span><span class="token punctuation">,</span>
        loc<span class="token operator">:</span> <span class="token string">'bj'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>访问<code>state</code>中的数据：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// this.$store 返回Vuex的Store对象    .state 返回state  .name</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>name
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>age
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>school<span class="token punctuation">.</span>name
</code></pre></div><p>访问state中的数据：</p> <div class="language-js extra-class"><pre class="language-js"><code>mapstate <span class="token operator">...</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="mutations-定义函数用于修改state"><a href="#mutations-定义函数用于修改state" class="header-anchor">#</a> <code>mutations</code>  定义函数用于修改<code>state</code></h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code>mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">loginOK</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>islogin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        state<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>当希望执行<code>mutations</code>中的<code>loginOK</code>方法时：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// commit()的作用就是要求vuex执行mutations中声明的方法</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'loginOK'</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">)</span>
</code></pre></div><p>mutations：管理员</p> <h5 id="actions-定义函数用于异步修改state"><a href="#actions-定义函数用于异步修改state" class="header-anchor">#</a> <code>actions</code>  定义函数用于异步修改<code>state</code></h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code>actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span> xxxx</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> <span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>            
            <span class="token comment">// 更新state中的数据   islogin   name            </span>
            store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'loginOK'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>调用<code>actions</code>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>xxxx<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>vuex</code>的确可以在不刷新的情况下解决用户状态管理的问题。但是一旦刷新页面，将会重新加载<code>vue</code>实例，自然会销毁<code>vuex</code>中所有的状态信息。如果希望持久化存储一些状态数据，可以使用<code>HTML5</code>新特性中的<code>webStorage</code>来解决。</p> <h2 id="html5新特性-webstorage"><a href="#html5新特性-webstorage" class="header-anchor">#</a> <code>HTML5</code>新特性 -- <code>WebStorage</code></h2> <p><code>webStorage</code>提供了<code>localStorage</code>与<code>sessionStorage</code>用于在客户端持久化存储键值对数据。</p> <p><code>localStorage</code>提供了一个独立的数据存储区，这部分数据将会永久存储在客户端本地。</p> <p><code>sessionStorage</code>提供了一个独立的数据存储区，这部分数据只会在当前网站一次会话中有效。（不关闭浏览器即可）</p> <h2 id="webstorage的基本使用"><a href="#webstorage的基本使用" class="header-anchor">#</a> <code>WebStorage</code>的基本使用</h2> <p>获取<code>localStorage</code>与<code>sessionStorage</code>对象：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> ls <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">;</span>
<span class="token keyword">let</span> ss <span class="token operator">=</span> window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">;</span>
<span class="token keyword">let</span> ls <span class="token operator">=</span> localStoragelet ss <span class="token operator">=</span> sessionStorage
</code></pre></div><p>如何存？</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ls<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
ss<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如何取？</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> val <span class="token operator">=</span> ls<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> val <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如何删？</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ss<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
ls<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如何清空？</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ss<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ls<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="webstorage在数据存储时的一些限制"><a href="#webstorage在数据存储时的一些限制" class="header-anchor">#</a> <code>WebStorage</code>在数据存储时的一些限制</h2> <ol><li><p><code>WebStorage</code>只能存储键值对。</p></li> <li><p><code>WebStorage</code>存储的键值对数据只能是字符串。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'islogin'</span><span class="token punctuation">,</span> <span class="token string">'true'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 存对象  </span>
 <span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'ls'</span><span class="token punctuation">,</span>    age<span class="token operator">:</span><span class="token number">15</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 读对象</span>
 <span class="token keyword">let</span> str <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">let</span> u <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div></li> <li><p><code>WebStorage</code>存储有大小限制，但是在不同浏览器下，这个限制不同。以后在存储时不要存储大量数据。</p></li></ol> <h2 id="基于webstorage实现用户状态管理"><a href="#基于webstorage实现用户状态管理" class="header-anchor">#</a> 基于<code>WebStorage</code>实现用户状态管理</h2> <ol><li><p>登录成功后，不仅需要把状态存入<code>vuex</code>，还需要存入<code>sessionStorage</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>    <span class="token string">'/login'</span><span class="token punctuation">,</span>     <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">username=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;password=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>pwd<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code<span class="token operator">==</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 登录成功        </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$toast</span><span class="token punctuation">(</span><span class="token string">'登录成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 提交mutations修改登录状态        </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'loginOK'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 把islogin和name存入sessionStorage        </span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'islogin'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>  <span class="token comment">// 登录失败        </span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$toast</span><span class="token punctuation">(</span><span class="token string">'账号或密码输入错误'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>当<code>vuex</code>初始化时（页面刷新就会导致<code>vuex</code>初始化），从<code>sessionStorage</code>中加载<code>islogin</code>与<code>name</code>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>state<span class="token operator">:</span> <span class="token punctuation">{</span>    islogin<span class="token operator">:</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'islogin'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      name<span class="token operator">:</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li> <li><p>在页面中通过<code>vuex</code>中存储的<code>islogin</code>、<code>name</code>动态显示用户信息：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$store.state.islogin<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>    欢迎：{{$store.state.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <h2 id="html5新特性"><a href="#html5新特性" class="header-anchor">#</a> <code>HTML5</code>新特性</h2> <h3 id="音频与视频"><a href="#音频与视频" class="header-anchor">#</a> 音频与视频</h3> <p><code>HTML5</code>提供了一些新标准可以使得浏览器播放音频、视频等媒体文件。早期如果想在网页中播放这些媒体文件，则需要安装<code>flash</code>。</p> <h3 id="音、视频标签"><a href="#音、视频标签" class="header-anchor">#</a> 音、视频标签</h3> <h4 id="音频标签"><a href="#音频标签" class="header-anchor">#</a> 音频标签</h4> <p>浏览器支持的音频文件格式有：<code>mp3</code>/<code>wav</code>/<code>ogg</code></p> <p><strong>音频标签的简写方式：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">controls</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../assets/xxx.mp3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>音频标签的标准写法：</strong> 为了浏览器兼容：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">controls</span><span class="token punctuation">&gt;</span></span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>letitgo.mp3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>audio/mpeg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>letitgo.wav<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>audio/wav<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>letitgo.ogg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>audio/ogg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>    什么破浏览器，换一个把。。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="常用属性"><a href="#常用属性" class="header-anchor">#</a> 常用属性</h5> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">controls</span>    <span class="token attr-name">boolean类型</span>  <span class="token attr-name">是否显示控制面板</span>
       <span class="token attr-name">autoplay</span>    <span class="token attr-name">boolean类型</span>  <span class="token attr-name">是否资源加载完毕后自动播放</span>       
       <span class="token attr-name">muted</span>       <span class="token attr-name">boolean类型</span>  <span class="token attr-name">是否静音</span>
       <span class="token attr-name">loop</span>        <span class="token attr-name">boolean类型</span>  <span class="token attr-name">是否单曲循环</span>
       <span class="token attr-name">preload</span>     <span class="token attr-name">string类型</span>  <span class="token attr-name">预加载音频资源的模式</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>preload</code> 预加载音频资源的模式，可选值：</p> <blockquote><p><code>none</code> 不对音频进行任何预加载</p> <p><code>auto</code>  尽可能的加载音频资源</p> <p><code>metadata</code>   只加载元数据（媒体文件基本属性信息：总时长、格式 ...）</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>audio controls
           loop
           muted
           preload<span class="token operator">=</span><span class="token string">&quot;auto&quot;</span> 
           src<span class="token operator">=</span><span class="token string">&quot;/assets/let_it_go.mp3&quot;</span>
           id<span class="token operator">=</span><span class="token string">&quot;audio&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>audio<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>br<span class="token operator">&gt;</span><span class="token operator">&lt;</span>br<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span>点我读取音频属性<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
               document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                   <span class="token keyword">let</span> audio <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'audio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">音频的总时长:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>audio<span class="token punctuation">.</span>duration<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
                   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">音频的音量:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>audio<span class="token punctuation">.</span>volume<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
               <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="视频标签"><a href="#视频标签" class="header-anchor">#</a> 视频标签</h4> <p>视频标签支持：<code>MP4</code> <code>ogg</code> <code>webm</code></p> <p><strong>视频标签的简写方式：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">controls</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../xxx.mp4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>视频标签的标准方式：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">controls</span><span class="token punctuation">&gt;</span></span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>letitgo.mp4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>video/mpeg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>letitgo.ogg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>video/ogg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>letitgo.webm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>video/webm<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>    什么破浏览器，换一个把。。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>video</code>标签的常用属性，<code>video</code>标签都支持，除此之外，还支持以下属性：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">controls</span>    <span class="token attr-name">boolean类型</span>  <span class="token attr-name">是否显示控制面板</span>
       <span class="token attr-name">autoplay</span>    <span class="token attr-name">boolean类型</span>  <span class="token attr-name">是否资源加载完毕后自动播放</span>       
       <span class="token attr-name">muted</span>       <span class="token attr-name">boolean类型</span>  <span class="token attr-name">是否静音</span>
       <span class="token attr-name">loop</span>        <span class="token attr-name">boolean类型</span>  <span class="token attr-name">是否单曲循环</span>
       <span class="token attr-name">preload</span>     <span class="token attr-name">string类型</span>  <span class="token attr-name">预加载音频资源的模式</span>
       <span class="token attr-name">poster</span>      <span class="token attr-name">string类型</span>  <span class="token attr-name">定义路径</span>  <span class="token attr-name">指向视频未播放时的封面图片</span>          <span class="token attr-name">width</span>       <span class="token attr-name">播放器的宽度</span>
       <span class="token attr-name">height</span>      <span class="token attr-name">播放器的高度</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        video<span class="token punctuation">{</span>
            width<span class="token operator">:</span> <span class="token number">640</span>px<span class="token punctuation">;</span>
            height<span class="token operator">:</span> <span class="token number">360</span>px<span class="token punctuation">;</span>
            background<span class="token operator">-</span>color<span class="token operator">:</span> black<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>video controls src<span class="token operator">=</span><span class="token string">&quot;assets/let_it_go.mp4&quot;</span>
    poster<span class="token operator">=</span><span class="token string">&quot;assets/logo.jpg&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>video<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="audio、video标签的dom操作"><a href="#audio、video标签的dom操作" class="header-anchor">#</a> <code>audio</code>、<code>video</code>标签的<code>DOM</code>操作</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>audio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx/let.mp3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">controls</span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">let</span> audio <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'audio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               audio<span class="token punctuation">.</span>duration<span class="token punctuation">;</span>    <span class="token comment">// dom对象.属性</span>
    audio<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// dom对象.方法()</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>与媒体相关的<code>DOM</code>对象包含：</p> <blockquote><ol><li><code>HTMLAudioElement</code>    表达一个<code>audio</code></li> <li><code>HTMLVideoElement</code>   表达一个<code>video</code></li> <li><code>HTMLMediaElement</code>    是<code>HTMLAudioElement</code>与<code>HTMLVideoElement</code>接口的父接口。当中定义媒体<code>DOM</code>对象的基本操作。子接口可以在此基础上再扩展新功能。</li></ol></blockquote> <p>查询<code>MDN</code>文档，以获取最完整的<code>API</code>接口。</p> <h4 id="htmlmideaelement接口"><a href="#htmlmideaelement接口" class="header-anchor">#</a> <code>HTMLMideaElement</code>接口</h4> <h5 id="html5-audio-video对象的属性"><a href="#html5-audio-video对象的属性" class="header-anchor">#</a> <code>HTML5 Audio/Video</code>对象的属性</h5> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td><a href="https://www.w3school.com.cn/tags/av_prop_autoplay.asp" target="_blank" rel="noopener noreferrer">autoplay<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回是否在加载完成后随即播放音频/视频</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_controls.asp" target="_blank" rel="noopener noreferrer">controls<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否显示控件（比如播放/暂停等）</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_currenttime.asp" target="_blank" rel="noopener noreferrer">currentTime<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频中的当前播放位置（以秒计）</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_duration.asp" target="_blank" rel="noopener noreferrer">duration<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>返回当前音频/视频的长度（以秒计）</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_ended.asp" target="_blank" rel="noopener noreferrer">ended<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>返回音频/视频的播放是否已结束</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_loop.asp" target="_blank" rel="noopener noreferrer">loop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否应在结束时重新播放</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_muted.asp" target="_blank" rel="noopener noreferrer">muted<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否静音</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_paused.asp" target="_blank" rel="noopener noreferrer">paused<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否暂停</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_playbackrate.asp" target="_blank" rel="noopener noreferrer">playbackRate<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频播放的速度</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_preload.asp" target="_blank" rel="noopener noreferrer">preload<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否应该在页面加载后进行加载</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_src.asp" target="_blank" rel="noopener noreferrer">src<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频元素的当前来源</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_volume.asp" target="_blank" rel="noopener noreferrer">volume<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频的音量</td></tr></tbody></table> <p>Request Payload:载客  不会传到服务器端</p> <p>找一块全局存取的区域</p> <p>登录成功后永久保存</p> <p>AudioTrack:和音频轨道相关的数据列表</p> <p>在Vant官网搭建Vant脚手架结构，使用轮播图组件</p> <h2 id="html新特性-unit02"><a href="#html新特性-unit02" class="header-anchor">#</a> <code>HTML新特性 Unit02</code></h2> <p><strong><code>HTMLMideaElement</code>接口</strong></p> <p><strong><code>HTML5 Audio/Video</code>对象的属性</strong></p> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td><a href="https://www.w3school.com.cn/tags/av_prop_autoplay.asp" target="_blank" rel="noopener noreferrer">autoplay<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回是否在加载完成后随即播放音频/视频</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_controls.asp" target="_blank" rel="noopener noreferrer">controls<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否显示控件（比如播放/暂停等）</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_currenttime.asp" target="_blank" rel="noopener noreferrer">currentTime<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频中的当前播放位置（以秒计）</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_duration.asp" target="_blank" rel="noopener noreferrer">duration<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>返回当前音频/视频的长度（以秒计）</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_ended.asp" target="_blank" rel="noopener noreferrer">ended<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>返回音频/视频的播放是否已结束</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_loop.asp" target="_blank" rel="noopener noreferrer">loop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否应在结束时重新播放</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_muted.asp" target="_blank" rel="noopener noreferrer">muted<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否静音</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_paused.asp" target="_blank" rel="noopener noreferrer">paused<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否暂停</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_playbackrate.asp" target="_blank" rel="noopener noreferrer">playbackRate<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频播放的速度</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_preload.asp" target="_blank" rel="noopener noreferrer">preload<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频是否应该在页面加载后进行加载</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_src.asp" target="_blank" rel="noopener noreferrer">src<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频元素的当前来源</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_prop_volume.asp" target="_blank" rel="noopener noreferrer">volume<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置或返回音频/视频的音量</td></tr></tbody></table> <h3 id="html5-audio-video-方法"><a href="#html5-audio-video-方法" class="header-anchor">#</a> <code>HTML5 Audio/Video</code> 方法</h3> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td><a href="https://www.w3school.com.cn/tags/av_met_play.asp" target="_blank" rel="noopener noreferrer">play()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>开始播放音频/视频</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_met_pause.asp" target="_blank" rel="noopener noreferrer">pause()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>暂停当前播放的音频/视频</td></tr></tbody></table> <h4 id="html5-audio-video-事件"><a href="#html5-audio-video-事件" class="header-anchor">#</a> <code>HTML5 Audio/Video</code> 事件</h4> <div class="language-html extra-class"><pre class="language-html"><code>let audio = document.getElementById('audio');
audio.addEventListener('abort', function(e){
    
});
</code></pre></div><table><thead><tr><th>事件</th> <th>描述</th></tr></thead> <tbody><tr><td>abort</td> <td>当音频/视频的加载已放弃时</td></tr> <tr><td><a href="https://www.w3school.com.cn/tags/av_event_loadedmetadata.asp" target="_blank" rel="noopener noreferrer">loadedmetadata<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>当浏览器已加载音频/视频的元数据时</td></tr> <tr><td>pause</td> <td>当音频/视频已暂停时</td></tr> <tr><td>play</td> <td>当音频/视频已开始或不再暂停时</td></tr> <tr><td>ratechange</td> <td>当音频/视频的播放速度已更改时</td></tr> <tr><td>timeupdate</td> <td>当目前的播放位置已更改时</td></tr> <tr><td>volumechange</td> <td>当音量已更改时</td></tr> <tr><td>waiting</td> <td>当视频由于需要缓冲下一帧而停止</td></tr></tbody></table> <h4 id="全屏api"><a href="#全屏api" class="header-anchor">#</a> 全屏<code>API</code></h4> <p><code>HTML5</code>提供了可以让任何<code>HTML</code>元素及其子元素占满整个屏幕的<code>API</code>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>dom对象<span class="token punctuation">.</span><span class="token function">requestFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 使dom对象全屏显示</span>
</code></pre></div><p>退出全屏：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">exitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="canvas-画布"><a href="#canvas-画布" class="header-anchor">#</a> <code>Canvas</code>  画布</h2> <h3 id="什么是canvas"><a href="#什么是canvas" class="header-anchor">#</a> 什么是<code>Canvas</code>?</h3> <p><code>Canvas</code>画布是可以用<code>Javascript</code>来绘制图形的<code>HTML</code>元素。 其语法结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>画布宽度（单位：像素）<span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>画布高度（单位：像素）<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>canvas</code>标签的<code>width</code>属性定义了画布宽度包含多少像素，<code>height</code>属性定义了画布高度包含多少像素。那么<code>canvas</code>绘制的图像分辨率就已经确定。这时有可能使用<code>css</code>对<code>canvas</code>进行压缩，但是这种压缩并不会改变图像分辨率，会对<code>canvas</code>图像进行整理缩放。</p> <h3 id="canvas的应用场景"><a href="#canvas的应用场景" class="header-anchor">#</a> <code>canvas</code>的应用场景</h3> <p><code>canvas</code>多应用在：网页游戏、广告、数据可视化图表。</p> <h3 id="canvas的使用"><a href="#canvas的使用" class="header-anchor">#</a> <code>canvas</code>的使用</h3> <h4 id="canvas基础图像绘制"><a href="#canvas基础图像绘制" class="header-anchor">#</a> <code>Canvas</code>基础图像绘制</h4> <p><code>canvas</code>基本绘制步骤如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> cvs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ctx <span class="token operator">=</span> cvs<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 返回用于绘制canvas的上下文对象</span>
ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span>
ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p><code>type</code>: 上下文类型</p> <ol><li><code>'2d'</code>    将会返回用于绘制二维图像的上下文对象<code>CanvasRenderingContext2D</code>。</li> <li><code>'webgl'</code>   将会返回用于绘制三维图像的上下文对象<code>WebGLRenderingContext</code>。</li></ol></blockquote> <p><strong>绘制填充：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span>   <span class="token comment">// 设置填充样式</span>
ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 填充矩形(x, y, 宽, 高)</span>
</code></pre></div><p><strong>绘制描边：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span>  <span class="token comment">// 设置描边样式</span>
ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 对矩形区域描边</span>
</code></pre></div><p><strong>绘制文本：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'25px 微软雅黑'</span>    
ctx<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">'文本内容'</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 对文字描边  (x,y)绘制文本的位置</span>
ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'文本内容'</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 对文字填充  (x,y)绘制文本的位置</span>
</code></pre></div><p>案例：绘制一个柱状图。</p> <p>其它基础绘图<code>API</code>，详见<code>canvas</code>文档。</p> <h4 id="canvas路径绘制"><a href="#canvas路径绘制" class="header-anchor">#</a> <code>Canvas</code>路径绘制</h4> <p>路径(<code>Path</code>)是将预先设定好的坐标点，按照顺序连接起来形成的图形。</p> <h4 id="canvas动画绘制"><a href="#canvas动画绘制" class="header-anchor">#</a> <code>Canvas</code>动画绘制</h4> <p>底层将json对象转化为字符串</p> <p>断点：但你刷新代码加载时，会卡在断点处不动</p> <p>网易云音乐<code>API</code>文档：<code>https://neteasecloudmusicapi.vercel.app/#/</code></p> <h2 id="html新特性-unit03"><a href="#html新特性-unit03" class="header-anchor">#</a> <code>HTML新特性 Unit03</code></h2> <p><strong><code>Canvas</code>路径绘制</strong></p> <p>路径(<code>Path</code>)是将预先设定好的坐标点，按照顺序连接起来形成的图形。</p> <p><em><strong>路径的绘制步骤</strong></em></p> <blockquote><ol><li>通过<code>ctx.beginPath()</code>开启一条新路径。</li> <li>通过<code>ctx.moveTo(x, y)</code>把画笔移动到指定位置。</li> <li>通过相关方法开始绘制路径（例如：<code>ctx.lineTo(x, y)</code>向终点连线）。</li> <li>最后可以通过<code>ctx.stroke()</code> 或  <code>ctx.fill()</code> 方法对该路径进行描边或填充。</li></ol></blockquote> <p>案例：绘制一个三角形。</p> <p>案例：实现移动版的你画我猜（画板）。</p> <p>移动端触摸（<code>touch</code>）相关事件：</p> <blockquote><ol><li><code>touchstart</code>  手指开始触摸元素时触发</li> <li><code>touchmove</code>   触摸元素并移动时触发</li> <li><code>touchcancel</code>   当触摸事件被打断时触发</li> <li><code>touchend</code>   触摸结束时触发</li></ol></blockquote> <p><strong><code>HTML5</code>提供了一些绘制<code>canvas</code>路径的常用方法：</strong></p> <p><code>ctx.rect()</code>用于绘制矩形路径：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//       左上角x,y   宽   高</span>
ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>ctx.arc()</code>用于绘制圆弧路径：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//  圆弧所在圆心点坐标x,y   半径    起始弧度值     结束弧度值</span>
ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span>          radius<span class="token punctuation">,</span>  startangle<span class="token punctuation">,</span>  endangle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong><code>Canvas</code>动画绘制</strong></p> <p>动画的本质即是每隔一段时间（非常快  <code>1/60</code>秒） 重绘<code>canvas</code>。每次绘制时，内容都会有些许变化，由于视觉残留现象，实现动画效果。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 每秒60遍不断的重绘canvas</span>
window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 绘制canvas即可  每次绘制时界面需要有些许改变  呈现动画效果</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>案例：基于<code>canvas</code>的动画实现弹幕。</p> <blockquote><ol><li><p>在<code>video</code>之上蒙一层<code>canvas</code>。</p></li> <li><p>添加<code>input</code>与<code>button</code>，实现发送弹幕功能。</p> <ol><li><p>准备一个存储弹幕数据的列表：<code>dmlist</code>。</p></li> <li><p>当发送弹幕时，向<code>dmlist</code>中<code>push</code>一个弹幕对象，对象中不仅包含弹幕内容，还应该有初始化的弹幕坐标。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
     content<span class="token operator">:</span><span class="token string">'我从未见过你这样的..'</span><span class="token punctuation">,</span>
     x<span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span> 
        y<span class="token operator">:</span> 随机 （<span class="token number">0</span><span class="token operator">~</span><span class="token number">360</span>）
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></li> <li><p>页面加载完毕后，启动<strong>一个</strong>定时器，每<code>1000/60</code>毫秒执行回调方法，每次执行回调方法，需要遍历<code>dmlist</code>里的每个弹幕对象，将<code>x</code>坐标减小，重新绘制<code>canvas</code>即可实现平移动画效果。</p></li></ol></li></ol></blockquote> <h2 id="动画卡顿的核心原因-掉帧"><a href="#动画卡顿的核心原因-掉帧" class="header-anchor">#</a> 动画卡顿的核心原因：掉帧</h2> <p><code>window.setInterval()</code>底层机制并不能保证每秒60帧。</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">setInteval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    复杂计算、绘制<span class="token constant">UI</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">)</span>
</code></pre></div><p>这种方式并不能保证每秒60帧，所以推荐使用以下<code>API</code>来完成动画的绘制：</p> <p><code>window.requestAnimationFrame()</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 计算逻辑、绘制UI</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>requestAnimationFrame(callback)</code>方法用于请求绘制动画帧（向浏览器发送绘制请求）。若代码执行了这一行，则将会通知浏览器在下次浏览器刷新页面时（浏览器刷新页面时操作系统及屏幕硬件设备的行为，它能保证每秒<code>60</code>帧的刷新率）自动执行回调方法。</p> <p>基于<code>requestAnimationFrame</code>实现动画的代码基本结构：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 执行计算，绘制UI</span>
    xxxxxxx
    xxxxxxx
    <span class="token comment">// 重新调用window.requestAnimationFrame();</span>
    window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>draw<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>draw<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="地理定位"><a href="#地理定位" class="header-anchor">#</a> 地理定位</h2> <h3 id="定位基础与原理"><a href="#定位基础与原理" class="header-anchor">#</a> 定位基础与原理</h3> <blockquote><ol><li><code>IP</code>定位    不准</li> <li>运营商基站定位   不太准</li> <li><code>GPS</code>卫星定位（北斗）    准的狠</li></ol></blockquote> <h3 id="地理定位的实现"><a href="#地理定位的实现" class="header-anchor">#</a> 地理定位的实现</h3> <p>地理定位<code>API</code>允许用户向<code>web</code>应用程序提供客户端的位置，这个操作需要用户授权。获取地理定义的相关代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> gl <span class="token operator">=</span> window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">success</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 定位成功后执行</span>
<span class="token keyword">let</span> <span class="token function-variable function">err</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 定位失败后执行</span>
<span class="token keyword">let</span> option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span>success<span class="token punctuation">,</span> error<span class="token punctuation">,</span> option<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>从<code>chrome50</code>开始，地理定位只能适用于域名状态下的<code>https</code>协议的网站，所以<code>http://localhost:5500</code>虽然已经获取了权限，但是浏览器不信任，没有返回任何信息。</p> <p>如果定位成功，<code>getCurrentPosition</code>方法将会在<code>success</code>回调函数中返回定位对象，格式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>coords: Coordinates    accuracy: 4645               精准度    altitude: 0                  海拔高度    altitudeAccuracy: null       海拔精度    heading: NaN                 ...    latitude: 39.9878            纬度    longitude: 116.37            经度    speed: NaN                   运动速度timestamp: 1628498856819
</code></pre></div><h3 id="接入第三方位置服务平台-百度地图、高德地图"><a href="#接入第三方位置服务平台-百度地图、高德地图" class="header-anchor">#</a> 接入第三方位置服务平台  --  百度地图、高德地图</h3> <p>一旦接入了这些第三方平台，可以方便的在自己网页中嵌入地图控件。引入这些第三方位置服务的<code>js</code>库后，还可以方便的操作这些地图。显示地图内容、在地图中添加大头针，还可以通过访问这些第三方位置服务接口，实现公交线路的查询、驾车线路的查询、地址检索、逆地址解析、 周边场所检索等等功能。</p> <h4 id="接入高德地图"><a href="#接入高德地图" class="header-anchor">#</a> 接入高德地图</h4> <ol><li><p>进入高德开放平台：<code>https://lbs.amap.com/</code></p> <p><img src="C:%5CUsers%5Cweb%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1628501652191.png" alt="1628501652191"></p></li> <li><p>完成准备工作：</p> <ol><li>注册账号并申请Key
<ol><li>注册个人开发者账号。</li> <li>填写注册表单信息。</li> <li>完善开发者信息。注册完成后，返回首页，直接登录。</li> <li>点击控制台 -- 应用管理  --  我的应用  -- 创建新应用。</li> <li>申请秘钥，选择（<code>web</code>端<code>JSAPI</code>）</li></ol></li> <li>准备页面</li></ol></li></ol> <h2 id="html新特性-unit04"><a href="#html新特性-unit04" class="header-anchor">#</a> <code>HTML新特性 Unit04</code></h2> <p><em><strong>接入第三方位置服务平台  --  百度地图、高德地图</strong></em></p> <p>一旦接入了这些第三方平台，可以方便的在自己网页中嵌入地图控件。引入这些第三方位置服务的<code>js</code>库后，还可以方便的操作这些地图。显示地图内容、在地图中添加大头针，还可以通过访问这些第三方位置服务接口，实现公交线路的查询、驾车线路的查询、地址检索、逆地址解析、 周边场所检索等等功能。</p> <p><em><strong>接入高德地图</strong></em></p> <ol><li><p>进入高德开放平台：<code>https://lbs.amap.com/</code></p> <p><img src="C:%5CUsers%5Cweb%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1628501652191.png" alt="1628501652191"></p></li> <li><p>完成准备工作：</p> <ol><li><p>注册账号并申请Key</p> <ol><li>注册个人开发者账号。</li> <li>填写注册表单信息。</li> <li>完善开发者信息。注册完成后，返回首页，直接登录。</li> <li>点击控制台 -- 应用管理  --  我的应用  -- 创建新应用。</li> <li>申请秘钥，选择（<code>web</code>端<code>JSAPI</code>）</li></ol></li> <li><p>准备页面</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://webapi.amap.com/maps?v=1.4.15&amp;key=bbdf0f05ab0c87c01ba0be6b18ca530a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">#container</span> <span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span>640px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 360px<span class="token punctuation">;</span> <span class="token punctuation">}</span>  
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        zoom<span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token comment">//级别</span>
        center<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.397428</span><span class="token punctuation">,</span> <span class="token number">39.90923</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//中心点坐标</span>
        viewMode<span class="token operator">:</span><span class="token string">'3D'</span><span class="token comment">//使用3D视图</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol></li></ol> <h3 id="高德地图常见使用场景"><a href="#高德地图常见使用场景" class="header-anchor">#</a> 高德地图常见使用场景</h3> <h4 id="为地图添加覆盖物"><a href="#为地图添加覆盖物" class="header-anchor">#</a> 为地图添加覆盖物</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 为地图添加marker</span>
<span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>LngLat</span><span class="token punctuation">(</span>lng<span class="token punctuation">,</span> lat<span class="token punctuation">)</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token string">'当前位置'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 同时引入工具条插件，比例尺插件和鹰眼插件</span>
AMap<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string">'AMap.ToolBar'</span><span class="token punctuation">,</span>
    <span class="token string">'AMap.Scale'</span><span class="token punctuation">,</span>
    <span class="token string">'AMap.OverView'</span><span class="token punctuation">,</span>
    <span class="token string">'AMap.MapType'</span><span class="token punctuation">,</span>
    <span class="token string">'AMap.Geolocation'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 在图面添加工具条控件，工具条控件集成了缩放、平移、定位等功能按钮在内的组合控件</span>
    map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>ToolBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 在图面添加比例尺控件，展示地图在当前层级和纬度下的比例尺</span>
    map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Scale</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        offset<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 在图面添加鹰眼控件，在地图右下角显示地图的缩略图</span>
    map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>OverView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>isOpen<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 在图面添加类别切换控件，实现默认图层与卫星图、实施交通图层之间切换的控制</span>
    map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MapType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 在图面添加定位控件，用来获取和展示用户主机所在的经纬度位置</span>
    map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Geolocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
</code></pre></div><h4 id="访问高德地图提供的第三方服务"><a href="#访问高德地图提供的第三方服务" class="header-anchor">#</a> 访问高德地图提供的第三方服务</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 同时引入工具条插件，比例尺插件和鹰眼插件</span>
AMap<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string">'AMap.PlaceSearch'</span><span class="token punctuation">,</span>
    <span class="token string">'AMap.Geocoder'</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 逆地址查询，查询当前坐标的文字描述信息</span>
    <span class="token keyword">let</span> geocoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Geocoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> lnglat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>LngLat</span><span class="token punctuation">(</span>lng<span class="token punctuation">,</span> lat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    geocoder<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span>lnglat<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">getAddress() status: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>regeocode<span class="token punctuation">.</span>formattedAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 搜索北京市的酒店</span>
    <span class="token keyword">let</span> placeSearch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>PlaceSearch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        city<span class="token operator">:</span> <span class="token string">'北京市'</span><span class="token punctuation">,</span>
        pageSize<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        map<span class="token operator">:</span> map
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    placeSearch<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">'酒店'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">status: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
</code></pre></div><h2 id="html5-拖放处理"><a href="#html5-拖放处理" class="header-anchor">#</a> <code>HTML5</code> 拖放处理</h2> <p>拖放是将对象从一个地方拖拽到另一个位置的操作。任何<code>HTML</code>元素都可以进行拖放操作，但需要为该元素添加属性：<code>draggable=&quot;true&quot;</code>。一旦包含这个属性，当前元素就将支持拖放操作。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>sdgfhljsdfg hds<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="dragevent拖拽相关事件"><a href="#dragevent拖拽相关事件" class="header-anchor">#</a> <code>DragEvent</code>拖拽相关事件</h3> <p><code>DragEvent</code>指拖拽事件，其继承自<code>MouseEvent</code>和<code>Event</code>接口。</p> <p><code>DragEvent</code>涉及到的事件有7种。这7种事件分别针对两大类事件源：源对象、目标对象。源对象指正在拖拽的元素。目标对象指的是释放时的容器。</p> <p><strong>针对源对象涉及到的事件：</strong></p> <p><code>dragstart</code>   开始拖拽时触发</p> <p><code>drag</code>     拖拽过程中触发（不断触发）</p> <p><code>dragend</code>   拖拽结束时触发</p> <p><strong>针对目标对象涉及到的事件：</strong></p> <p><code>dragenter</code>   当源对象被拖拽进入目标对象时触发</p> <p><code>dragover</code>     当拖拽源对象在目标对象上方悬停时触发（持续触发）</p> <p><code>dragleave</code>   当源对象被拖拽离开目标对象时触发</p> <p><code>drop</code>   当拖拽源对象在目标对象中释放时触发</p> <blockquote><p>注意：</p> <p>在<code>dragover</code>事件中需要加入：<code>event.preventDefault()</code>，阻止浏览器默认事件的产生，否则不会触发目标对象的<code>drop</code>事件。</p> <p><code>firefox</code>浏览器针对图像与<code>a</code>链接有默认的拖拽事件处理（打开新页面加载新资源）。需要阻止该默认事件的产生，所以需要在<code>drop</code>事件处理函数中：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></blockquote> <p>试想：拖拽元素到<code>d2</code>并释放后，在<code>d2</code>中追加子元素，将拖拽的元素放进去。如果希望实现这个需求，则需要在<code>drop</code>时，获取当前拖拽的内容，调用<code>DOM</code>方法将源对象添加到目标对象。</p> <p>那么实现这个流程，就必须在<code>dragstart</code>时将当前拖拽的源对象数据（标签名、标签内容等）存起来，等到<code>drop</code>时，拿到这些数据，执行添加元素追加操作。</p> <h4 id="拖拽过程中的事件传输"><a href="#拖拽过程中的事件传输" class="header-anchor">#</a> 拖拽过程中的事件传输</h4> <p><code>HTML5</code>规定再一次拖拽过程中如果需要进行相关数据的存储及传输，需要借助于<code>DataTransfer</code>对象来完成。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>p<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> dt <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">;</span> 
    dt<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'tagname'</span><span class="token punctuation">,</span> <span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dt<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'innerHTML'</span><span class="token punctuation">,</span> <span class="token string">'奥运xXXXX'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>d2<span class="token punctuation">.</span><span class="token function-variable function">ondrop</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> dt <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">;</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">'tagname'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> html <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">'innerHTML'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="基于拖拽操作实现文件上传"><a href="#基于拖拽操作实现文件上传" class="header-anchor">#</a> 基于拖拽操作实现文件上传</h3> <p>准备工作：</p> <p>准备好一个页面，提供一个div，用于接收拖拽的文件。一旦文件拖拽到该目标对象释放时，将会触发<code>drop</code>，可以在<code>drop</code>时，获取文件的信息。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> files <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>files<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>注意：不能上传文件夹。</p></blockquote> <h4 id="文件上传的流程与协议规范"><a href="#文件上传的流程与协议规范" class="header-anchor">#</a> 文件上传的流程与协议规范</h4> <p><em><strong>文件上传流程</strong></em></p> <blockquote><ol><li>客户端选择需要上传的文件，点击上传，开始建立连接，准备上传。</li> <li>服务端接收连接请求，完成连接的建立，接收上传的文件（遵守协议）。</li> <li>服务端把接收到的文件数据，存入服务器文件系统。</li> <li>保存完毕后即上传成功，之后可以提供一个<code>url</code>地址用于访问该资源。</li></ol></blockquote> <p><em><strong>协议规范</strong></em></p> <blockquote><ol><li>要求客户端提交文件的请求方式必须是<code>POST</code>。</li> <li>发请求时必须携带消息头：<code>Content-Type: multipart/form-data</code>。</li> <li>客户端将本地文件在请求<code>body</code>部分中以数据流的方式传输给服务端。</li> <li>服务端接收客户端传来的字节流数据，边接收边保存到某个文件夹下。</li></ol></blockquote> <h4 id="客户端发送上传文件请求"><a href="#客户端发送上传文件请求" class="header-anchor">#</a> 客户端发送上传文件请求</h4> <ol><li><p>基于表单上传文件（跳转新页面） <code>&lt;form action=''&gt;</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/upload<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadFile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pwd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>提交<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>基于<code>ajax</code>上传文件（异步请求，不刷新页面）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 用于封装请求参数</span>
fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  name=zhangsan</span>
fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'pwd'</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// name=zhangsan&amp;pwd=123456</span>
<span class="token keyword">let</span> files <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>files<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>files<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> f <span class="token operator">=</span> files<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
 fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'uploadFile'</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// uploadFile=f对象</span>
<span class="token punctuation">}</span>
axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/upload'</span><span class="token punctuation">,</span> fd<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol> <p><strong>已经上传的文件，如何访问？</strong></p> <p>选择的图片一旦上传成功将会重命名后出现在项目<code>/upload</code>文件夹中。 那么如果想要再次访问该图片，则必须把<code>upload</code>文件夹设置为静态托管目录。还要知道刚刚上传的文件的文件名才行。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'upload'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>一旦把<code>upload</code>目录设置为了静态资源托管目录，那么该目录中的文件将可以直接通过请求资源路径访问。例如：<code>/upload</code>目录下有一个图片：<code>a.jpg</code>，那么就可以通过以下链接直接访问：</p> <div class="language-url extra-class"><pre class="language-url"><code><span class="token scheme">http<span class="token scheme-delimiter">:</span></span><span class="token authority"><span class="token authority-delimiter">//</span><span class="token host">localhost</span><span class="token port-segment"><span class="token port-delimiter">:</span><span class="token port">3000</span></span></span><span class="token path"><span class="token path-separator">/</span>a.jpg</span>
<span class="token scheme">http<span class="token scheme-delimiter">:</span></span><span class="token authority"><span class="token authority-delimiter">//</span><span class="token host">localhost</span><span class="token port-segment"><span class="token port-delimiter">:</span><span class="token port">3000</span></span></span><span class="token path"><span class="token path-separator">/</span>08ce9564-d6d9-4251-b069-522b5c6768dc.jpg</span>
</code></pre></div><p><em><strong>上传头像流程</strong></em></p> <blockquote><ol><li>客户端发送<code>axios</code>请求，选择图片，上传文件。</li> <li>服务端将头像改名后存储在<code>upload</code>目录下，还需要把图片的访问地址存入数据库。</li> <li>上传成功后，下次登录时，可以获取到数据库中存储的新的头像路径，直接通过该路径访问上次上传的头像即可。</li> <li>上传的头像需要重命名，避免互相覆盖。
注意：若上传文件操作是跨域上传，则尽管使用<code>ajax</code>，依然会刷新页面。</li></ol> <p>当前的上传流程是：</p> <p>访问:<code>http://127.0.0.1:5500/03_upload.html</code></p> <p>在该网页中希望发送<code>ajax</code>请求上传文件：<code>http://localhost:3000/upload</code></p> <p>这种跨域请求，若在服务端处理后可以正常上传，但是会刷新页面。</p> <p>若不希望刷新页面，则需要访问：</p> <p><code>http://localhost:3000/03_upload.html</code>看到上传网页才可以。</p></blockquote> <h2 id="html新特性-unit05"><a href="#html新特性-unit05" class="header-anchor">#</a> <code>HTML新特性 Unit05</code></h2> <h2 id="websocket"><a href="#websocket" class="header-anchor">#</a> <code>WebSocket</code></h2> <p><code>websocket</code>可以实现客户端与服务端之间的数据实时通信。（长连接）</p> <h3 id="网络通信过程中的长连接与短连接"><a href="#网络通信过程中的长连接与短连接" class="header-anchor">#</a> 网络通信过程中的长连接与短连接</h3> <p><strong>短连接：</strong> 客户端发起连接请求，请求建立连接，服务端接受请求，完成连接的创建，而后客户端通过该连接发送数据，服务端处理请求，返回响应，最后连接断开。这种通讯模式称为短连接。</p> <p>特点：这种通讯模式将会及时的释放服务端资源，所以可以为更多的客户端提供服务。但是也有缺点：<strong>无状态。</strong>（每个请求都是独立的，无法保存客户端状态）</p> <p>**长连接：**客户端发起连接请求，请求建立连接，服务端接受请求，完成连接的创建，而后客户端通过该连接发送数据，服务端处理请求，返回响应；服务端也可以主动的向客户端发送数据，客户端接收。这个过程中持续连接不断开。这种通讯模式称为长连接。</p> <p>特点：支持客户端与服务端之间的实时通信。服务端可以随时随地向客户端发消息。缺点就是浪费服务端资源。</p> <h3 id="什么是websocket"><a href="#什么是websocket" class="header-anchor">#</a> 什么是<code>websocket</code>？</h3> <p><code>websocket</code>是一种在单<code>TCP</code>连接上进行的支持全双工通信（通信的过程中允许两个方向上同时完成数据传输）的一种协议。是一款长连接协议。</p> <p><em>如何在网页中建立<code>websocket</code>连接？</em></p> <p><em>服务端接收接收该连接？</em></p> <p><em>客户端与服务端如何通过该<code>websocket</code>连接进行通信呢？</em></p> <h3 id="socket-io"><a href="#socket-io" class="header-anchor">#</a> <code>socket.io</code></h3> <p><code>https://socketio.bootcss.com/</code></p> <p><code>socket.io</code>是一个为浏览器与服务端之间提供实时的、双向的、基于事件通信的网络通信库。底层封装了<code>websocket</code>协议。提供了一些简单的<code>API</code>接口，方便的建立连接，收发消息，抹平了一些技术细节与浏览器兼容性问题。</p> <p><strong>建立连接的伪代码：</strong></p> <p><code>socket</code>(套接字)就是一个<code>javascript</code>对象，对象的本质就是封装了属性与方法。<code>socket</code>中就封装了用于与对方通信时所需要的资源。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 客户端 导入socket.io后</span>
<span class="token keyword">let</span> socket <span class="token operator">=</span> <span class="token function">io</span><span class="token punctuation">(</span><span class="token string">'ws://localhost:3000/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 服务端 安装socket.io后</span>
<span class="token keyword">let</span> socketio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'socket.io'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
socketio<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'connection'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">socket</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    连接建立成功后执行
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="建立websocket连接"><a href="#建立websocket连接" class="header-anchor">#</a> 建立<code>websocket</code>连接</h3> <h4 id="服务端代码"><a href="#服务端代码" class="header-anchor">#</a> 服务端代码</h4> <blockquote><ol><li><p>新建项目（<code>socketserver</code>文件夹）</p> <p>安装<code>express</code>。安装<code>socket.io</code>。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> socketserver
<span class="token function">npm</span> init   // 一路回车  生成package.json
<span class="token function">npm</span> <span class="token function">install</span> --save express   // 安装express
<span class="token function">npm</span> <span class="token function">install</span> --save socket.io   // 安装socket.io
</code></pre></div></li> <li><p>基于<code>socket.io</code>提供的<code>API</code>，接收客户端的连接请求，建立<code>websocket</code>连接。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// index.js   服务端核心js文件</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用server.get()  server.post() 注册路由 接收请求</span>
         
<span class="token comment">// 配置websocket</span>
<span class="token comment">// 获取express底层所使用的http模块</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>server<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// websocket需要把通信相关路由注册到该底层http模块</span>
<span class="token keyword">const</span> socketio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'socket.io'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>http<span class="token punctuation">)</span><span class="token punctuation">;</span>
socketio<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'connection'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">socket</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'有客户端进来了：'</span><span class="token operator">+</span>socket<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         
<span class="token comment">// 设置静态资源托管目录 public</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         
<span class="token comment">// 启动服务 不能再使用server.listen  而应该调用http.listen</span>
<span class="token comment">// 因为socketio将通信相关路由注册到了http模块，而非express</span>
<span class="token comment">// 所以http才可以接收到websocket请求，express则只用于处理http服务</span>
http<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'server is running...'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol></blockquote> <h4 id="客户端代码"><a href="#客户端代码" class="header-anchor">#</a> 客户端代码</h4> <p>为了避免跨域问题，设置静态资源托管目录<code>public</code>，把网页写在<code>public</code>中即可。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>socket.io.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
btnConn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> socket <span class="token operator">=</span> <span class="token function">io</span><span class="token punctuation">(</span><span class="token string">'ws://localhost:3000/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="客户端与服务端之间进行通信"><a href="#客户端与服务端之间进行通信" class="header-anchor">#</a> 客户端与服务端之间进行通信</h3> <h4 id="客户端发消息给服务端"><a href="#客户端发消息给服务端" class="header-anchor">#</a> 客户端发消息给服务端</h4> <p>客户端：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> socket <span class="token operator">=</span> <span class="token function">io</span><span class="token punctuation">(</span><span class="token string">'ws://localhost:3000/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 发消息    （emit 翻译为触发）</span>
socket<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'textmsg'</span><span class="token punctuation">,</span> <span class="token string">'你瞅啥？！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><p>服务端：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>socketio<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'connection'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">socket</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 监听客户端发过来的消息</span>
    socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'textmsg'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="服务端发消息给客户端"><a href="#服务端发消息给客户端" class="header-anchor">#</a> 服务端发消息给客户端</h4> <p>服务端代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'textmsg'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token comment">// 回复</span>
    socket<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;textmsg&quot;</span><span class="token punctuation">,</span> <span class="token string">'瞅你咋地~~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>客户端代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> socket <span class="token operator">=</span> <span class="token function">io</span><span class="token punctuation">(</span><span class="token string">'ws://localhost:3000/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'textmsg'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="服务端向所有客户端广播消息"><a href="#服务端向所有客户端广播消息" class="header-anchor">#</a> 服务端向所有客户端广播消息</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>socketio<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'connection'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">socket</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    socket<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 针对当前客户端发消息    socketio.emit('textmsg', '兄弟们！');   // 向所有客户端都发消息});</span>
</code></pre></div><h3 id="实现群聊天室"><a href="#实现群聊天室" class="header-anchor">#</a> 实现群聊天室</h3> <p>需求如下：</p> <ol><li><p>在聊天界面中建立<code>websocket</code>连接。</p></li> <li><p>当客户端点击发送按钮时，使用已经建立好的连接向服务端发送消息。服务端接收该消息后，将这个消息内容向所有已经连接的客户端再发一遍即可。</p></li> <li><p>每个客户端需要监听服务端发回来的消息，控制台打印。</p></li> <li><p>消息上屏。把接收到的消息显示在聊天记录区。</p></li> <li><p>优化业务细节。</p></li> <li><p>实时更新聊天室的人数。</p> <ol><li>在服务端实时维护一个表达在线人数的变量。<code>count</code></li> <li>一旦有客户端连接，<code>count++</code></li> <li>一旦有客户端断开连接，<code>count--</code></li> <li>无论<code>count</code>是递增了还是递减了，只要<code>count</code>有变化，就需要给所有客户端发消息<code>emit('count_updated', count)</code>。</li> <li>客户端监听并接收该消息类型，更新页面中的在线人数即可。</li></ol></li> <li><p>实现登录业务。</p> <ol><li><p>在<code>index.html</code>点击登录时，需要获取昵称（文本框里输入）与头像（随机生成文件名）。带着这两个参数一起跳转到<code>chart.html</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// window.location.href = &quot;chart.html&quot;location = &quot;chart.html?name=xxx&amp;avatar=xx.jpg&quot;</span>
</code></pre></div></li> <li><p>在<code>chart.html</code>中获取<code>name</code>与<code>avatar</code>，更新用户信息。</p></li> <li><p>发消息时，不能只发送内容，而是需要发送一个对象：</p> <p><code>{content:'xxxx', name:'xx', avatar:'xxx.jpg'}</code></p></li> <li><p>服务端接收后将原封不动的把对象发给所有客户端。一旦客户端接收到返回回来的对象，需要解析对象的属性，上屏。</p></li></ol></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">121.4</span><span class="token number">.247</span><span class="token number">.63</span><span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>index<span class="token punctuation">.</span>html
</code></pre></div><h2 id="vuecli项目上线视频"><a href="#vuecli项目上线视频" class="header-anchor">#</a> <code>vuecli</code>项目上线视频</h2> <div class="language-js extra-class"><pre class="language-js"><code>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pan<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token operator">/</span>s<span class="token operator">/</span><span class="token number">1</span>BqWxsbs00qLkfCJ6E4peEQ密码：<span class="token number">7</span>lln
</code></pre></div><h2 id="html新特性-unit06"><a href="#html新特性-unit06" class="header-anchor">#</a> <code>HTML新特性 Unit0</code>6</h2> <h3 id="websocket-群聊完成了-私聊该如何解决"><a href="#websocket-群聊完成了-私聊该如何解决" class="header-anchor">#</a> <code>WebSocket</code> 群聊完成了，私聊该如何解决？</h3> <p>每当客户端与服务端建立了一个<code>websocket</code>连接，客户端将会得到一个<code>socket</code>对象，服务端也会得到一个<code>socket</code>对象。这些<code>socket</code>对象用于与对方进行数据通信。所以服务端保存了与每个客户端通信所需要的的<code>socket</code>对象。</p> <p>所以如何实现私聊？</p> <p>当<strong>亮亮</strong>发消息时，不仅需要发送消息内容，还需要发送对方的<code>ID</code>（也可以是<code>name</code>，总之得传递对方的唯一标识符）。服务端接收到该消息后，需要通过<code>ID</code>（也可以是<code>name</code>）找到与对方建立起来的<code>socket</code>连接对象，直接调用<code>socket.emit()</code>方法发消息即可。</p> <p>使用<code>Vant</code>组件库。</p> <h2 id="webworker"><a href="#webworker" class="header-anchor">#</a> <code>WebWorker</code></h2> <p><code>WebWorker</code>为<code>Javascript</code>提供了多线程编程的开发环境。可以把一些耗时操作放入<code>worker</code>线程异步执行，而后通知主线程绘制<code>UI</code>界面。</p> <p><code>Javascript</code>采用的是单线程模型，也就是说绝大多数操作是在主线程中完成的。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
 <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">100000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>xxxx
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">)</span>xxx
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        xxxxx
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>主线程有一个非常重要的工作，按照显示器的刷新频率（60帧/秒），不断绘制<code>UI</code>。所以主线程我们也称为是<code>UI</code>线程。在<code>UI</code>线程中不允许出现耗时代码，因为这将阻塞<code>UI</code>线程的执行，会影响页面的刷新率，导致页面假死。所以如果在页面中有耗时代码，最好要把他们放到子线程中，与<code>UI</code>线程并发执行，这样不会影响主线程的<code>UI</code>绘制。</p> <p>案例：基于斐波那契数列 模拟页面假死状态。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">5</span>   <span class="token number">8</span>   <span class="token number">13</span>   <span class="token number">21</span>   <span class="token number">34</span>  <span class="token number">55</span> 。。。
</code></pre></div><h3 id="使用worker"><a href="#使用worker" class="header-anchor">#</a> 使用<code>worker</code></h3> <ol><li><p>新建<code>worker.js</code>文件，把需要耗时执行的代码写在这里。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// worker.js</span>
<span class="token keyword">function</span> <span class="token function">fb</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> n<span class="token operator">&lt;</span><span class="token number">3</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token function">fb</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fb</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fb</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>在页面中（主线程）创建<code>worker</code>线程（指定<code>worker.js</code>），<code>worker.js</code>中的代码将会自动（在子线程）执行。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    btn1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 调用worker，异步执行耗时代码 </span>
        <span class="token comment">// 这样才不会阻塞主线程</span>
        <span class="token comment">// 创建Worker对象，将自动执行worker.js中的代码</span>
        <span class="token keyword">let</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">'worker.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <p>注意：以后创建<code>Worker</code>时一定要注意，**<code>worker</code>是否有可能重复创建。**尽量避免这种情况，因为<code>worker</code>若创建过多，将会影响<code>UI</code>线程获取<code>CPU</code>时间，导致页面卡顿。</p> <h3 id="worker与主线程之间的通信"><a href="#worker与主线程之间的通信" class="header-anchor">#</a> <code>Worker</code>与主线程之间的通信</h3> <p>实现业务：当页面加载完毕后，创建<code>worker</code>对象（此时并不进行计算）。当点击按钮时，希望<code>worker</code>线程执行耗时代码，计算结果，并且把结果返回给主线程。</p> <h4 id="主线程向worker线程发消息"><a href="#主线程向worker线程发消息" class="header-anchor">#</a> 主线程向<code>worker</code>线程发消息</h4> <p>主线程：发送</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> mworker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mworker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'消息内容'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>worker</code>线程：接收</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// worker.js</span>
<span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 通过event获取发过来的消息内容</span>
    <span class="token comment">// 执行后续业务  计算</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="worker线程向主线程发消息"><a href="#worker线程向主线程发消息" class="header-anchor">#</a> <code>worker</code>线程向主线程发消息</h4> <p><code>worker</code>发消息：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//worker.js</span>
<span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'消息内容'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>主线程接收消息：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> mworker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mworker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// event中就保存了worker线程传回来的数据</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="svg"><a href="#svg" class="header-anchor">#</a> <code>SVG</code></h2> <h3 id="什么是svg"><a href="#什么是svg" class="header-anchor">#</a> 什么是<code>SVG</code>？</h3> <p><code>SVG（Scalable Vector Graphics）</code>可伸缩的矢量图形。是一种图像格式。这种文件的本质实际上是一篇符合<code>XML</code>规范的文档。浏览器可以根据文档中的属性定义，在页面中动态绘制这张图片，以此来实现伸缩不失真的特点。</p> <h3 id="第一个svg图像"><a href="#第一个svg图像" class="header-anchor">#</a> 第一个<code>svg</code>图像</h3> <p>案例：编写一个<code>svg</code>图片，在图片中心画个圆，填充成红色。在网页中显示。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- circle.svg --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2000/svg<span class="token punctuation">&quot;</span></span>      <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>90<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>black<span class="token punctuation">&quot;</span></span>        <span class="token attr-name">strokeWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="svg的使用方法"><a href="#svg的使用方法" class="header-anchor">#</a> <code>SVG</code>的使用方法</h4> <p>1.直接设置在图片的<code>src</code>属性：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a.svg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>2.基于<code>css</code>设置为背景图片：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>a.svg<span class="token punctuation">)</span></span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>3.直接在网页中使用<code>svg</code>标签绘制图像：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token punctuation">&gt;</span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">&gt;</span></span>        .....    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="其它常用svg的元素"><a href="#其它常用svg的元素" class="header-anchor">#</a> 其它常用<code>SVG</code>的元素</h4> <p>见文档。</p> <p><code>https://www.w3school.com.cn/svg/svg_path.asp</code></p> <h4 id="canvas与svg的区别"><a href="#canvas与svg的区别" class="header-anchor">#</a> <code>Canvas</code>与<code>SVG</code>的区别？</h4> <p>下表列出了 <code>canvas</code> 与 <code>SVG</code> 之间的一些不同之处。</p> <h5 id="canvas"><a href="#canvas" class="header-anchor">#</a> <code>Canvas</code></h5> <ul><li>依赖分辨率</li> <li>不支持事件处理器</li> <li>弱的文本渲染能力</li> <li>能够以 <code>.png</code> 或 <code>.jpg</code> 格式保存结果图像</li> <li>最适合图像密集型的游戏，其中的许多对象会被频繁重绘</li></ul> <h5 id="svg-2"><a href="#svg-2" class="header-anchor">#</a> SVG</h5> <ul><li>不依赖分辨率</li> <li>支持事件处理器</li> <li>最适合带有大型渲染区域的应用程序（比如谷歌地图）</li> <li>复杂度高会减慢渲染速度（任何过度使用 <code>DOM</code> 的应用都不快）</li> <li>不适合游戏应用</li></ul> <h2 id="echarts"><a href="#echarts" class="header-anchor">#</a> <code>ECharts</code></h2> <p><code>ECharts</code>是百度开元的数据可视化工具库，基于<code>Javascript</code>，可以在浏览器（支持<code>PC</code>与移动端）中显示美观的图表。</p> <h3 id="helloworld-示例"><a href="#helloworld-示例" class="header-anchor">#</a> <code>HelloWorld</code> 示例</h3> <ol><li>下载<code>echarts</code>。</li> <li>编写一个新的<code>html</code>页面，引入<code>echarts</code>。</li> <li>绘制<code>echarts</code>图表。
<ol><li>初始化<code>echarts</code>。</li> <li>调用<code>echarts.setOption();</code>设置图表样式。</li></ol></li></ol> <h2 id="html新特性-unit07"><a href="#html新特性-unit07" class="header-anchor">#</a> <code>HTML新特性 Unit07</code></h2> <h3 id="echarts-2"><a href="#echarts-2" class="header-anchor">#</a> ECharts</h3> <p><code>ECharts</code>是百度开元的数据可视化工具库，基于<code>Javascript</code>，可以在浏览器（支持<code>PC</code>与移动端）中显示美观的图表。</p> <h3 id="helloworld-示例-2"><a href="#helloworld-示例-2" class="header-anchor">#</a> HelloWorld 示例</h3> <ol><li>下载<code>echarts</code>。</li> <li>编写一个新的<code>html</code>页面，引入<code>echarts</code>。</li> <li>绘制<code>echarts</code>图表。
<ol><li>初始化<code>echarts</code>。</li> <li>调用<code>echarts.setOption();</code>设置图表样式。</li></ol></li></ol> <h3 id="基于echarts对北京二手房数据完成数据可视化"><a href="#基于echarts对北京二手房数据完成数据可视化" class="header-anchor">#</a> 基于<code>Echarts</code>对北京二手房数据完成数据可视化</h3> <h4 id="需求1"><a href="#需求1" class="header-anchor">#</a> 需求1</h4> <p>搭建页面布局：<code>#d1</code> <code>#d2</code> <code>#d3</code>    分别在左上、右、坐下。</p> <h4 id="需求2"><a href="#需求2" class="header-anchor">#</a> 需求2</h4> <p><strong>折线图</strong>可视化显示北京主城区二手房房源均价走势（<code>price.json</code>）</p> <ol><li>浏览器发送<code>axios</code>请求，访问服务端的<code>price.json</code>数据。</li> <li>一旦获取到这组数据，则需要把这组数据整理成<code>echarts</code>所需要的数据格式。</li> <li>初始化<code>echarts</code>，设置<code>option</code>。</li></ol> <h4 id="需求3"><a href="#需求3" class="header-anchor">#</a> 需求3</h4> <p><strong>柱状图</strong>可视化显示主城区二手房户型数量分布。</p> <h4 id="需求4"><a href="#需求4" class="header-anchor">#</a> 需求4</h4> <p><strong>饼状图</strong>可视化显示最受关注的8套房源的信息。</p> <h3 id="http协议的状态管理"><a href="#http协议的状态管理" class="header-anchor">#</a> <code>HTTP</code>协议的状态管理</h3> <p>由于<code>HTTP</code>协议的请求是无状态的（短连接模式一旦拿到响应连接断开），这样就会导致一个浏览器会话中发送的多次请求，服务端都会当做是独立的请求来进行处理。</p> <p>解决<code>http</code> 状态的问题需要使用<code>cookie</code>或<code>session</code>机制。</p> <h4 id="cookie机制-将数据存到客户端"><a href="#cookie机制-将数据存到客户端" class="header-anchor">#</a> <code>Cookie</code>机制 （将数据存到客户端）</h4> <ol><li>客户端第一次发送请求，服务端接收请求。处理请求。</li> <li>服务端返回响应数据的同时，向客户端添加一个<code>cookie</code>信息。数据内容可以自定义。</li> <li>浏览器接收响应后，把<code>cookie</code>信息处理并保存下来。</li> <li>浏览器发送第二次请求时，将自动携带当前网站以前存过的<code>cookie</code>数据，一起发送请求，服务端接收后，就可以获取以前交互时涉及到的数据，实现<code>http</code>的状态管理。</li></ol> <h4 id="session机制-客户端存id-服务端存敏感数据"><a href="#session机制-客户端存id-服务端存敏感数据" class="header-anchor">#</a> <code>Session</code>机制 （客户端存<code>id</code>， 服务端存敏感数据）</h4> <ol><li><p>客户端发送第一次请求，服务端接收请求，处理请求，将需要保存的数据，存入服务端<code>Session</code>对象中，并且分配一个<code>SID</code>与之一一对应。</p> <div class="language-test extra-class"><pre class="language-text"><code>xuming-sid-123556 : {name:xuming, age:17, count:10}
</code></pre></div><p>返回响应数据时，以<code>cookie</code>的方式将<code>SID</code>传给客户端。</p></li> <li><p>客户端接收响应，按照服务端要求，将<code>SID:xuming-sid-123556</code>存入客户端浏览器。</p></li> <li><p>下次发请求时，浏览器将会自动携带<code>SID:xuming-sid-123556</code>一起发送请求，服务端接收请求后，获取<code>SID</code>，通过<code>SID</code>找到以前存过的数据，拿到具体信息，执行后续业务。</p></li></ol> <h4 id="验证码流程"><a href="#验证码流程" class="header-anchor">#</a> 验证码流程</h4> <h2 id="微信小程序-unit01"><a href="#微信小程序-unit01" class="header-anchor">#</a> 微信小程序 <code>Unit01</code></h2> <p>下载最新版开发工具（稳定版）：</p> <p><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener noreferrer">https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="微信公众平台"><a href="#微信公众平台" class="header-anchor">#</a> 微信公众平台</h2> <p>微信公众平台由腾讯提供，基于腾讯的微信服务器，为广大企业、组织或个人提供用户管理或咨询服务的平台。</p> <p><strong>服务号：</strong></p> <p>为企业或组织提供的进行用户管理和服务的平台。类似中国移动。</p> <p><strong>订阅号：</strong></p> <p>为企业、组织或个人提供的进行用户管理和资讯发布的平台。是一种全新的消息传播方式。类似<code>CSDN</code>。</p> <p><strong>小程序：</strong></p> <p>为企业、组织或个人提供的可以达到与原生<code>app</code>功能相同的应用程序解决方案。（在微信内部运行）。其优点在于“小”。用完就走。</p> <h2 id="小程序的接入流程"><a href="#小程序的接入流程" class="header-anchor">#</a> 小程序的接入流程</h2> <p>进入微信公众平台注册开发者账号：<code>https://mp.weixin.qq.com</code>。</p> <p>流程如下：</p> <ol><li>首页点击注册。</li> <li>填写注册信息：新邮箱、密码等。</li> <li>激活邮箱。</li> <li>填写主体信息：个人、姓名、身份证号等。</li> <li>验证成功后进入小程序后台管理页面。</li></ol> <h3 id="创建小程序项目"><a href="#创建小程序项目" class="header-anchor">#</a> 创建小程序项目</h3> <p>安装小程序开发工具<code>IDE</code>。</p> <p>管理扫码登录，点击新建小程序项目。</p> <p>填写项目的基本信息。</p> <p>熟悉开发工具的各个组件布局和环节。</p> <h3 id="小程序项目的文件结构"><a href="#小程序项目的文件结构" class="header-anchor">#</a> 小程序项目的文件结构</h3> <p>小程序项目中包含的文件类型有：</p> <ol><li><p><code>json</code>文件     （配置文件）</p> <p><code>app.json</code>    全局配置文件</p> <p><code>pages.json</code>  （<strong>统称</strong>，例如：<code>index.json</code> <code>logs.json</code>） 定义单页面的配置参数。</p></li> <li><p><code>wxml</code>文件</p> <p>模板文件（类似于<code>HTML</code>，但是此处不能使用任何<code>HTML</code>标签）</p></li> <li><p><code>wxss</code>文件   样式文件（类似<code>css</code>，语法与<code>css</code>极其相似）</p> <p><code>app.wxss</code>  用于定义全局样式</p> <p><code>pages.wxss</code>   用于定义单页的样式</p></li> <li><p><code>js</code>文件  脚本文件（写代码的地方）</p> <p><strong><code>app.js</code>  定义小程序的入口脚本文件</strong></p> <p>当启动小程序时，微信小程序框架将会加载并执行<code>app.js</code>，初始化<code>App</code>对象。执行<code>App</code>中定义的<code>onLaunch</code>生命周期方法。 <code>app.js</code>仅执行这一次，所以<code>App</code>对象有且仅有一个，全局单例。</p> <p><strong><code>pages.js</code>   定义小程序单页面的入口脚本文件</strong></p> <p>当启动小程序中的一个页面时，微信小程序框架将会加载并执行目标页面对应的<code>js</code>脚本文件，初始化<code>Page</code>对象。<code>Page</code>对象中声明了当前页面所定义的相关资源：<code>data</code>、<code>methods</code>等。还定义了一些页面相关的生命周期方法。</p> <p>一个<code>Page</code>对象对应了一个页面实例。小程序中包含多少个页面实例，就意味着拥有多少个<code>Page</code>对象。</p></li></ol> <h4 id="app-json"><a href="#app-json" class="header-anchor">#</a> <code>app.json</code></h4> <p>参考文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html" target="_blank" rel="noopener noreferrer">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>app.json</code>用于对小程序进行全局配置。后缀为<code>.json</code>的文件一定要符合<code>json</code>的语法格式。要求比较严格：</p> <blockquote><ol><li><code>json</code>文件中不能写注释。</li> <li>字符串必须在双引号之间。<code>json</code>对象的属性名也必须在双引号之间。</li> <li>数组或对象的最后一个成员后不能再加逗号<code>“,”</code>。</li> <li><code>json</code>中不存在<code>undefined</code>这种类型。</li></ol></blockquote> <h5 id="pages配置项"><a href="#pages配置项" class="header-anchor">#</a> <code>pages</code>配置项</h5> <p><code>pages</code>配置项用于定义当前小程序中包含哪些页面（<code>index</code>、<code>logs</code>）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;pages&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
 <span class="token string">&quot;pages/test/test&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;pages/index/index&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;pages/logs/logs&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p>新建配置项<code>&quot;pages/test/test&quot;</code>，将在<code>pages</code>目录下新建<code>test</code>目录，然后再其中创建”四件套“。 若配置项写在数组的第一个元素，则会被当做首页显示。</p> <h5 id="window配置项"><a href="#window配置项" class="header-anchor">#</a> <code>window</code>配置项</h5> <p><code>window</code>配置项用于定义小程序导航栏、标题、窗口的内容或样式（全局生效）。</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;window&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;enablePullDownRefresh&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;backgroundTextStyle&quot;</span><span class="token operator">:</span><span class="token string">&quot;dark&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;backgroundColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#999&quot;</span><span class="token punctuation">,</span>

    <span class="token property">&quot;navigationBarBackgroundColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;navigationBarTitleText&quot;</span><span class="token operator">:</span> <span class="token string">&quot;学子影院&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;navigationBarTextStyle&quot;</span><span class="token operator">:</span><span class="token string">&quot;white&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h5 id="tabbar配置项"><a href="#tabbar配置项" class="header-anchor">#</a> <code>tabbar</code>配置项</h5> <p><code>tabbar</code>用于定义底部选项卡，格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;tabBar&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#333&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;selectedColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;电影&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;pagePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pages/index/index&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;iconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/images/index_disable.png&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;selectedIconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/images/index_enable.png&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;影院&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;pagePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pages/theatre/theatre&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;iconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/images/theatre_disable.png&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;selectedIconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/images/theatre_enable.png&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;我的&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;pagePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pages/me/me&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;iconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/images/me_disable.png&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;selectedIconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/images/me_enable.png&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h5 id="style配置项"><a href="#style配置项" class="header-anchor">#</a> <code>style</code>配置项</h5> <p>微信客户端 7.0 开始，UI 界面进行了大改版。小程序也进行了基础组件的样式升级。<code>app.json</code> 中配置 <code>&quot;style&quot;: &quot;v2&quot;</code>可表明启用新版的组件样式。</p> <p>本次改动涉及的组件有 <code>button icon radio checkbox switch slider</code>。可前往小程序示例进行体验。</p> <h5 id="sitemaplocation配置项"><a href="#sitemaplocation配置项" class="header-anchor">#</a> <code>sitemapLocation</code>配置项</h5> <p><code>sitemapLocation</code>配置项用于指定<code>sitemap.json</code>配置文件的位置。</p> <p>微信现已开放小程序内搜索，开发者可以通过 <code>sitemap.json</code> 配置，或者管理后台页面收录开关来配置其小程序页面是否允许微信索引。</p> <p><code>sitemap.json</code></p> <p>该文件用于指定微信官方通用爬虫的检索规则。（指明什么样的页面需要被官方爬虫所收录，什么样的页面不希望被收录。）</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;disallow&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pages/me/me&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;allow&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><p>详细配置见文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html" target="_blank" rel="noopener noreferrer">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>默认情况下，开发工具将会在控制台输出警告来提示收录状态。若不希望看到提示，则需要在<code>project.config.json</code>配置文件中添加如下配置：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;checkSiteMap&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="app-wxss"><a href="#app-wxss" class="header-anchor">#</a> <code>app.wxss</code></h4> <p>用于定义组件的全局样式。</p> <h4 id="app-js"><a href="#app-js" class="header-anchor">#</a> <code>app.js</code></h4> <p><em><strong>定义小程序的入口脚本文件</strong></em></p> <p>当启动小程序时，微信小程序框架将会加载并执行<code>app.js</code>，初始化<code>App</code>对象。执行<code>App</code>中定义的<code>onLaunch</code>生命周期方法。 <code>app.js</code>文件仅执行这一次，所以<code>App</code>对象有且仅有一个，全局单例。</p> <p>问题：</p> <p><code>app.js</code>文件什么时候执行？<strong>当小程序初始化启动时</strong></p> <p><code>app.js</code>文件中的代码执行几次？<strong>一次   <code>App</code>对象是单例的，全局唯一。</strong></p> <h2 id="微信小程序-unit02"><a href="#微信小程序-unit02" class="header-anchor">#</a> 微信小程序 <code>Unit02</code></h2> <h2 id="小程序组件库"><a href="#小程序组件库" class="header-anchor">#</a> 小程序组件库</h2> <h3 id="组件概述"><a href="#组件概述" class="header-anchor">#</a> 组件概述</h3> <p>小程序中<code>wxml</code>中由各式各样的组件构成。这些组件都是微信自定义的，原生<code>html</code>标签不能使用。</p> <blockquote><p><strong>关于组件属性</strong></p> <ol><li><p>对于<code>boolean</code>类型的属性，无论设置<code>true</code>还是设置<code>false</code>，小程序都会当做普通字符串来进行解释，都会被解释为<code>true</code>。 除非用空字符串<code>&quot;&quot;</code>（有点野）。推荐使用<code>{{}}</code>来设置<code>boolean</code>类型属性的属性值。</p> <div class="language-js extra-class"><pre class="language-js"><code>hover<span class="token operator">-</span>stop<span class="token operator">-</span>propagation<span class="token operator">=</span><span class="token string">&quot;{{false}}&quot;</span>
</code></pre></div></li> <li><p>小程序的组件属性名在使用时既遵守驼峰命名法，也遵守短横线命名法，两种属性名的设置都将会生效。</p></li></ol></blockquote> <h3 id="view-组件"><a href="#view-组件" class="header-anchor">#</a> &lt;view 组件</h3> <p><code>view</code>组件为视图容器组件，其基本语法：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>点击后当前view应用的样式类的类名<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">hover-start-time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>点击view后多久开始出现点击状态<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">hover-stay-time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>点击状态停留多久<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">hover-stop-propagation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>案例：新建页面：<code>pages/testing/view/view</code>，测试<code>view</code>的使用。</p> <h3 id="image-组件"><a href="#image-组件" class="header-anchor">#</a> &lt;image 组件</h3> <p><code>image</code>组件为图片组件，支持<code>GIF</code>、<code>JPG</code>、<code>PNG</code>、<code>SVG</code>、<code>WEBP</code>等图像格式。其语法结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片路径<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">lazy-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>是否采用图片懒加载<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图像的裁切及缩放模式<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">show-menu-by-longpress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>是否在长摁图片时底部弹出操作菜单<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>案例：<code>pages/testing/image/image</code>。</p> <h3 id="swiper-组件"><a href="#swiper-组件" class="header-anchor">#</a> &lt;swiper 组件</h3> <p><code>swiper</code>组件为轮播图组件，其语法为：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper</span> 
  <span class="token attr-name">indicator-dots</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">indicator-active-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#0f0<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">indicator-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#0f05<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">autoplay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">interval</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3000<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">duration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">circular</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">vertical</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">easing-function</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper-item</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.....<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper-item</span><span class="token punctuation">&gt;</span></span>
    ......
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>案例：<code>pages/testing/swiper/swiper</code>。测试轮播图。</p> <h4 id="wxss提供的新像素单位-rpx-响应式像素"><a href="#wxss提供的新像素单位-rpx-响应式像素" class="header-anchor">#</a> <code>wxss</code>提供的新像素单位：<code>rpx</code>（响应式像素）</h4> <p>使用<code>rpx</code>作为尺寸单位，可以根据屏幕的分辨率动态设置组件的宽高（自适应）。完成屏幕的适配。它的核心原理是：</p> <ol><li>规定所有的设备的屏幕宽度都是<code>750rpx</code>。所以根据这个规定可以计算<code>rpx</code>与<code>px</code>之间的换算关系。</li> <li><code>1rpx</code>在不同的设备下将会转换成不同的<code>px</code>。</li></ol> <table><thead><tr><th>设备</th> <th><code>rpx</code>换算<code>px</code> (屏幕宽度/750)</th> <th><code>px</code>换算<code>rpx</code> (750/屏幕宽度)</th></tr></thead> <tbody><tr><td><code>iPhone5</code></td> <td><code>1rpx = 0.42px</code></td> <td><code>1px = 2.34rpx</code></td></tr> <tr><td><code>iPhone6</code></td> <td><code>1rpx = 0.5px</code></td> <td><code>1px = 2rpx</code></td></tr> <tr><td><code>iPhone6 Plus</code></td> <td><code>1rpx = 0.552px</code></td> <td><code>1px = 1.81rpx</code></td></tr></tbody></table> <h3 id="text-组件"><a href="#text-组件" class="header-anchor">#</a> &lt;text 组件</h3> <p><code>text</code>组件为文本组件，其语法：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span>
  <span class="token attr-name">user-select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">space</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emsp<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">decode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>文本<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="navigator-组件"><a href="#navigator-组件" class="header-anchor">#</a> &lt;navigator 组件</h3> <p><code>navigator</code>组件属于页面链接组件，用于控制页面之间的跳转。其语法结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>当前小程序内的页面地址<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>跳转方式<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    链接内容
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>open-type</code>：可选项包括：</p> <blockquote><ol><li><code>navigate</code> ，默认的跳转方式。当使用这种方式跳转页面时，将会保留当前页面对象，创建目标页面对象，跳转过去。也称为保留跳转。这种方式无法跳转到<code>tabbar</code>页面，因为一般<code>tabbar</code>页面对象都会常驻内存不销毁，也就没有必要新建该页面跳过去了。若希望跳转到<code>tabbar</code>页面，可以使用<code>switchtab</code>的方式进行跳转。</li> <li><code>navigateBack</code>， 返回上级页面。这种操作将会销毁当前页面从而显示上一页。可以配合<code>delta</code>属性实现上<code>n</code>页的返回。</li> <li><code>switchTab</code>， 字面理解：切换到某个选项卡页面。这种方式可以跳转到带有<code>tabbar</code>的页面。一旦这么做，将会销毁所有非<code>tabbar</code>页面。</li> <li><code>redirect</code>，字面理解：重定向。这种跳转方式将会<strong>关闭当前页面</strong>，重定向到非<code>tabbar</code>的目标页面。当然也会<strong>重新创建目标页</strong>。</li> <li><code>reLaunch</code>，字面理解：<strong>重新启动小程序</strong><code>app</code>并<strong>打开某个页面</strong>。 这种跳转方式将会<strong>关闭所有页面</strong>，然后重启小程序<strong>跳转到指定页面</strong>。</li></ol></blockquote> <p>案例：新建3个页面：<code>testing/a/a</code> <code>testing/b/b</code> <code>testing/c/c</code>。</p> <h3 id="scroll-view-组件"><a href="#scroll-view-组件" class="header-anchor">#</a> scroll-view 组件</h3> <p><code>scroll-view</code>组件用于实现滚动的视图容器（支持水平、垂直滚动）。其语法结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scroll-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scroll<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">scroll-y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{false}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">scroll-x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">enable-flex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">enhanced</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">showScrollbar</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{false}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 scroll-x=&quot;是否允许水平方向滚动&quot;
    scroll-y=&quot;是否允许垂直方向滚动&quot;&gt;
 子组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scroll-view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>若子组件的宽高超出了<code>scroll-view</code>容器的宽高，则将会在水平、垂直方向上自动出现滚动条。</p> <h3 id="input-组件"><a href="#input-组件" class="header-anchor">#</a> input 组件</h3> <p><code>input</code>组件为输入框组件，其语法结构为：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>输入框的类型<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>占位字符串内容<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>文本框的值<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">password</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>是否为密码框<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>最大长度<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">focus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设置是否让当前输入框自动获取焦点（将会自动弹出键盘）<span class="token punctuation">&quot;</span></span>
       
        <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doInput<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">绑定事件的事件处理函数的函数名字</span>
        <span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>type</code>的可选值：</p> <blockquote><ol><li><code>text</code>  文本输入键盘</li> <li><code>number</code>  数字输入键盘</li> <li><code>idcard</code>  身份证键盘</li> <li><code>digit</code>  带小数点的键盘</li></ol></blockquote> <p><code>input</code>组件中提供了一些事件处理（<code>eventhandle</code>）属性。这些属性用于为当前组件绑定事件。在属性值中填写事件处理函数名即可（<strong>注意：严禁出现小括号</strong>）。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>账号<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doInput<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>一旦设置了<code>doInput</code>，则需要在<code>page.js</code>中声明<code>doInput</code>方法用于处理该事件。<code>doInput</code>方法内部也会传入<code>event</code>事件对象，用于封装该事件相关的参数信息。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 处理bindinput事件 */</span><span class="token function">doInput</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// 获取文本框中输入的内容    console.log(event.detail.value);},</span>
</code></pre></div><h4 id="小程序表单组件的双向数据绑定"><a href="#小程序表单组件的双向数据绑定" class="header-anchor">#</a> 小程序表单组件的双向数据绑定</h4></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Note/jscode.html" class="prev">
        jscode
      </a></span> <span class="next"><a href="/Note/react.html">
        React 学习笔记 📒
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a872a4b8.js" defer></script><script src="/assets/js/2.15df7a88.js" defer></script><script src="/assets/js/17.9cd1efad.js" defer></script>
  </body>
</html>
